import{ethers as e,BigNumber as t}from"ethers";const n="0x1",i="0x38",r="0x2105",s=[n,r],a=[i],o="0x0000000000000000000000000000000000000000",u="https://api-dojo2.eternalai.org/api/",d="https://eth.llamarpc.com",l="https://bsc-dataseed.binance.org/",c="https://base.llamarpc.com",p=e=>{switch(e){case n:return d;case i:return l;case r:return c;default:return d}},f=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint256",name:"amount_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"},{internalType:"address",name:"promptScheduler_",type:"address"},{internalType:"address",name:"modelAddress_",type:"address"},{internalType:"string",name:"systemPrompt_",type:"string"},{internalType:"bytes",name:"storageInfo_",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidData",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"fromDelegate",type:"address"},{indexed:!0,internalType:"address",name:"toDelegate",type:"address"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"uint256",name:"previousBalance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"DelegateVotesChanged",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"hybridModel",type:"address"}],name:"ModelUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"uint256",name:"inferId",type:"uint256"},{indexed:!1,internalType:"bytes",name:"request",type:"bytes"}],name:"PromptPerformed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"promptScheduler",type:"address"}],name:"PromptSchedulerHubUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"systemPrompt",type:"string"}],name:"SystemPromptUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"CLOCK_MODE",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint32",name:"pos",type:"uint32"}],name:"checkpoints",outputs:[{components:[{internalType:"uint32",name:"fromBlock",type:"uint32"},{internalType:"uint224",name:"votes",type:"uint224"}],internalType:"struct ERC20Votes.Checkpoint",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"clock",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"delegates",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"fetchCode",outputs:[{internalType:"string",name:"logic",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFileStorageChunkInfo",outputs:[{components:[{internalType:"uint256",name:"size",type:"uint256"},{components:[{internalType:"address",name:"pointer",type:"address"},{internalType:"uint32",name:"start",type:"uint32"},{internalType:"uint32",name:"end",type:"uint32"}],internalType:"struct BytecodeSlice[]",name:"slices",type:"tuple[]"}],internalType:"struct File",name:"file",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModelAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"timepoint",type:"uint256"}],name:"getPastTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"timepoint",type:"uint256"}],name:"getPastVotes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPromptSchedulerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getResultById",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStorageInfo",outputs:[{components:[{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"filename",type:"string"}],internalType:"struct IUtilityAgent.StorageInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStorageMode",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSystemPrompt",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getVotes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"numCheckpoints",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"request",type:"bytes"}],name:"prompt",outputs:[{internalType:"uint256",name:"inferId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"filename",type:"string"}],name:"updateFileName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"modelAddress",type:"address"}],name:"updateModelAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"promptScheduler",type:"address"}],name:"updatePromptScheduler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"systemPrompt",type:"string"}],name:"updateSystemPrompt",outputs:[],stateMutability:"nonpayable",type:"function"}],h=[{inputs:[],name:"AlreadyCommitted",type:"error"},{inputs:[],name:"AlreadyRevealed",type:"error"},{inputs:[],name:"AlreadySeized",type:"error"},{inputs:[],name:"AlreadySubmitted",type:"error"},{inputs:[{internalType:"bytes32",name:"value",type:"bytes32"}],name:"Bytes32Set_DuplicatedValue",type:"error"},{inputs:[],name:"CannotFastForward",type:"error"},{inputs:[],name:"CommitTimeout",type:"error"},{inputs:[],name:"FailedTransfer",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidCommitment",type:"error"},{inputs:[],name:"InvalidContext",type:"error"},{inputs:[],name:"InvalidData",type:"error"},{inputs:[],name:"InvalidInferenceStatus",type:"error"},{inputs:[],name:"InvalidMiner",type:"error"},{inputs:[],name:"InvalidNonce",type:"error"},{inputs:[],name:"InvalidReveal",type:"error"},{inputs:[],name:"InvalidRole",type:"error"},{inputs:[],name:"NotCommitted",type:"error"},{inputs:[],name:"NotEnoughMiners",type:"error"},{inputs:[],name:"OnlyAssignedWorker",type:"error"},{inputs:[],name:"RevealTimeout",type:"error"},{inputs:[],name:"SubmitTimeout",type:"error"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"Uint256Set_DuplicatedValue",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!0,internalType:"uint256",name:"assigmentId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"commitment",type:"bytes32"}],name:"CommitmentSubmission",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"chainId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!1,internalType:"address",name:"modelAddress",type:"address"},{components:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"enum IWorkerHub.DAOTokenReceiverRole",name:"role",type:"uint8"}],indexed:!1,internalType:"struct IWorkerHub.DAOTokenReceiverInfor[]",name:"receivers",type:"tuple[]"}],name:"DAOTokenMintedV2",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint16",name:"minerPercentage",type:"uint16"},{internalType:"uint16",name:"userPercentage",type:"uint16"},{internalType:"uint16",name:"referrerPercentage",type:"uint16"},{internalType:"uint16",name:"refereePercentage",type:"uint16"},{internalType:"uint16",name:"l2OwnerPercentage",type:"uint16"}],indexed:!1,internalType:"struct IWorkerHub.DAOTokenPercentage",name:"oldValue",type:"tuple"},{components:[{internalType:"uint16",name:"minerPercentage",type:"uint16"},{internalType:"uint16",name:"userPercentage",type:"uint16"},{internalType:"uint16",name:"referrerPercentage",type:"uint16"},{internalType:"uint16",name:"refereePercentage",type:"uint16"},{internalType:"uint16",name:"l2OwnerPercentage",type:"uint16"}],indexed:!1,internalType:"struct IWorkerHub.DAOTokenPercentage",name:"newValue",type:"tuple"}],name:"DAOTokenPercentageUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!1,internalType:"enum IWorkerHub.InferenceStatus",name:"newStatus",type:"uint8"}],name:"InferenceStatusUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"assignmentId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!0,internalType:"address",name:"miner",type:"address"}],name:"MinerRoleSeized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"assignmentId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!1,internalType:"uint40",name:"expiredAt",type:"uint40"}],name:"NewAssignment",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!0,internalType:"address",name:"model",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"originInferenceId",type:"uint256"}],name:"NewInference",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!0,internalType:"address",name:"model",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"originInferenceId",type:"uint256"},{indexed:!1,internalType:"bytes",name:"input",type:"bytes"},{indexed:!1,internalType:"bool",name:"flag",type:"bool"}],name:"RawSubmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!0,internalType:"uint256",name:"assigmentId",type:"uint256"},{indexed:!1,internalType:"uint40",name:"nonce",type:"uint40"},{indexed:!1,internalType:"bytes",name:"output",type:"bytes"}],name:"RevealSubmission",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!0,internalType:"uint256",name:"assigmentId",type:"uint256"}],name:"SolutionSubmission",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"assignmentId",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StreamedData",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"assignmentNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"assignments",outputs:[{internalType:"uint256",name:"inferenceId",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"},{internalType:"bytes32",name:"digest",type:"bytes32"},{internalType:"uint40",name:"revealNonce",type:"uint40"},{internalType:"address",name:"worker",type:"address"},{internalType:"enum IWorkerHub.AssignmentRole",name:"role",type:"uint8"},{internalType:"enum IWorkerHub.Vote",name:"vote",type:"uint8"},{internalType:"bytes",name:"output",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_assignId",type:"uint256"},{internalType:"bytes32",name:"_commitment",type:"bytes32"}],name:"commit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_assignmentId",type:"uint256"}],name:"getAssignmentInfo",outputs:[{components:[{internalType:"uint256",name:"inferenceId",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"},{internalType:"bytes32",name:"digest",type:"bytes32"},{internalType:"uint40",name:"revealNonce",type:"uint40"},{internalType:"address",name:"worker",type:"address"},{internalType:"enum IWorkerHub.AssignmentRole",name:"role",type:"uint8"},{internalType:"enum IWorkerHub.Vote",name:"vote",type:"uint8"},{internalType:"bytes",name:"output",type:"bytes"}],internalType:"struct IWorkerHub.Assignment",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_inferenceId",type:"uint256"}],name:"getAssignmentsByInference",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_inferenceId",type:"uint256"}],name:"getInferenceInfo",outputs:[{components:[{internalType:"uint256[]",name:"assignments",type:"uint256[]"},{internalType:"bytes",name:"input",type:"bytes"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"feeL2",type:"uint256"},{internalType:"uint256",name:"feeTreasury",type:"uint256"},{internalType:"address",name:"modelAddress",type:"address"},{internalType:"uint40",name:"submitTimeout",type:"uint40"},{internalType:"uint40",name:"commitTimeout",type:"uint40"},{internalType:"uint40",name:"revealTimeout",type:"uint40"},{internalType:"enum IWorkerHub.InferenceStatus",name:"status",type:"uint8"},{internalType:"address",name:"creator",type:"address"},{internalType:"address",name:"processedMiner",type:"address"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IWorkerHub.Inference",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_modelAddress",type:"address"}],name:"getMinFeeToUse",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTreasuryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"address",name:"_creator",type:"address"},{internalType:"bool",name:"_flag",type:"bool"}],name:"infer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"address",name:"_creator",type:"address"}],name:"infer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"inferenceNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wEAI",type:"address"},{internalType:"address",name:"_l2Owner",type:"address"},{internalType:"address",name:"_treasury",type:"address"},{internalType:"address",name:"_daoToken",type:"address"},{internalType:"address",name:"_stakingHub",type:"address"},{internalType:"uint16",name:"_feeL2Percentage",type:"uint16"},{internalType:"uint16",name:"_feeTreasuryPercentage",type:"uint16"},{internalType:"uint8",name:"_minerRequirement",type:"uint8"},{internalType:"uint40",name:"_submitDuration",type:"uint40"},{internalType:"uint40",name:"_commitDuration",type:"uint40"},{internalType:"uint40",name:"_revealDuration",type:"uint40"},{internalType:"uint16",name:"_feeRatioMinerValidor",type:"uint16"},{internalType:"uint256",name:"_daoTokenReward",type:"uint256"},{components:[{internalType:"uint16",name:"minerPercentage",type:"uint16"},{internalType:"uint16",name:"userPercentage",type:"uint16"},{internalType:"uint16",name:"referrerPercentage",type:"uint16"},{internalType:"uint16",name:"refereePercentage",type:"uint16"},{internalType:"uint16",name:"l2OwnerPercentage",type:"uint16"}],internalType:"struct IWorkerHub.DAOTokenPercentage",name:"_daoTokenPercentage",type:"tuple"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_referrers",type:"address[]"},{internalType:"address[]",name:"_referees",type:"address[]"}],name:"registerReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_inferenceId",type:"uint256"}],name:"resolveInference",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_assignId",type:"uint256"},{internalType:"uint40",name:"_nonce",type:"uint40"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_assignmentId",type:"uint256"}],name:"seizeMinerRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newDAOTokenReward",type:"uint256"}],name:"setDAOTokenReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wEAI",type:"address"}],name:"setWEAIAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_assigmentId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"submitSolution",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isReferred",type:"bool"}],name:"validateDAOSupplyIncrease",outputs:[{internalType:"bool",name:"notReachedLimit",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{stateMutability:"payable",type:"receive"}],m=[{inputs:[],name:"AlreadyCommitted",type:"error"},{inputs:[],name:"AlreadyRevealed",type:"error"},{inputs:[],name:"AlreadySeized",type:"error"},{inputs:[],name:"AlreadySubmitted",type:"error"},{inputs:[],name:"CannotFastForward",type:"error"},{inputs:[],name:"CommitTimeout",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidCommitment",type:"error"},{inputs:[],name:"InvalidContext",type:"error"},{inputs:[],name:"InvalidData",type:"error"},{inputs:[],name:"InvalidInferenceStatus",type:"error"},{inputs:[],name:"InvalidMiner",type:"error"},{inputs:[],name:"InvalidNonce",type:"error"},{inputs:[],name:"InvalidReveal",type:"error"},{inputs:[],name:"InvalidRole",type:"error"},{inputs:[],name:"NotCommitted",type:"error"},{inputs:[],name:"NotEnoughMiners",type:"error"},{inputs:[],name:"OnlyAssignedWorker",type:"error"},{inputs:[],name:"RevealTimeout",type:"error"},{inputs:[],name:"SubmitTimeout",type:"error"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"Uint256Set_DuplicatedValue",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!0,internalType:"uint256",name:"assigmentId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"commitment",type:"bytes32"}],name:"CommitmentSubmission",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"chainId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!1,internalType:"address",name:"modelAddress",type:"address"},{components:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"enum IWorkerHub.DAOTokenReceiverRole",name:"role",type:"uint8"}],indexed:!1,internalType:"struct IWorkerHub.DAOTokenReceiverInfor[]",name:"receivers",type:"tuple[]"}],name:"DAOTokenMintedV2",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint16",name:"minerPercentage",type:"uint16"},{internalType:"uint16",name:"userPercentage",type:"uint16"},{internalType:"uint16",name:"referrerPercentage",type:"uint16"},{internalType:"uint16",name:"refereePercentage",type:"uint16"},{internalType:"uint16",name:"l2OwnerPercentage",type:"uint16"}],indexed:!1,internalType:"struct IWorkerHub.DAOTokenPercentage",name:"oldValue",type:"tuple"},{components:[{internalType:"uint16",name:"minerPercentage",type:"uint16"},{internalType:"uint16",name:"userPercentage",type:"uint16"},{internalType:"uint16",name:"referrerPercentage",type:"uint16"},{internalType:"uint16",name:"refereePercentage",type:"uint16"},{internalType:"uint16",name:"l2OwnerPercentage",type:"uint16"}],indexed:!1,internalType:"struct IWorkerHub.DAOTokenPercentage",name:"newValue",type:"tuple"}],name:"DAOTokenPercentageUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!1,internalType:"enum IWorkerHub.InferenceStatus",name:"newStatus",type:"uint8"}],name:"InferenceStatusUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"assignmentId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!0,internalType:"address",name:"miner",type:"address"}],name:"MinerRoleSeized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"assignmentId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!1,internalType:"uint40",name:"expiredAt",type:"uint40"}],name:"NewAssignment",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!0,internalType:"address",name:"model",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"originInferenceId",type:"uint256"}],name:"NewInference",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"inferenceId",type:"uint256"},{indexed:!0,internalType:"address",name:"model",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"originInferenceId",type:"uint256"},{indexed:!1,internalType:"bytes",name:"input",type:"bytes"},{indexed:!1,internalType:"bool",name:"flag",type:"bool"}],name:"RawSubmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!0,internalType:"uint256",name:"assigmentId",type:"uint256"},{indexed:!1,internalType:"uint40",name:"nonce",type:"uint40"},{indexed:!1,internalType:"bytes",name:"output",type:"bytes"}],name:"RevealSubmission",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!0,internalType:"uint256",name:"inferId",type:"uint256"}],name:"SolutionSubmission",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"assignmentId",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StreamedData",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"uint256",name:"_inferenceId",type:"uint256"}],name:"getInferenceInfo",outputs:[{components:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"feeL2",type:"uint256"},{internalType:"uint256",name:"feeTreasury",type:"uint256"},{internalType:"address",name:"modelAddress",type:"address"},{internalType:"uint40",name:"submitTimeout",type:"uint40"},{internalType:"enum IWorkerHub.InferenceStatus",name:"status",type:"uint8"},{internalType:"address",name:"creator",type:"address"},{internalType:"address",name:"processedMiner",type:"address"},{internalType:"address",name:"referrer",type:"address"},{internalType:"bytes",name:"input",type:"bytes"},{internalType:"bytes",name:"output",type:"bytes"}],internalType:"struct IWorkerHub.Inference",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_modelAddress",type:"address"}],name:"getMinFeeToUse",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMinerRequirement",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSubmitDuration",outputs:[{internalType:"uint40",name:"",type:"uint40"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTreasuryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"address",name:"_creator",type:"address"},{internalType:"bool",name:"_flag",type:"bool"}],name:"infer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"address",name:"_creator",type:"address"}],name:"infer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"inferenceNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wEAI",type:"address"},{internalType:"address",name:"_l2Owner",type:"address"},{internalType:"address",name:"_treasury",type:"address"},{internalType:"address",name:"_daoToken",type:"address"},{internalType:"address",name:"_stakingHub",type:"address"},{internalType:"uint16",name:"_feeL2Percentage",type:"uint16"},{internalType:"uint16",name:"_feeTreasuryPercentage",type:"uint16"},{internalType:"uint8",name:"_minerRequirement",type:"uint8"},{internalType:"uint40",name:"_submitDuration",type:"uint40"},{internalType:"uint16",name:"_feeRatioMinerValidor",type:"uint16"},{internalType:"uint256",name:"_daoTokenReward",type:"uint256"},{components:[{internalType:"uint16",name:"minerPercentage",type:"uint16"},{internalType:"uint16",name:"userPercentage",type:"uint16"},{internalType:"uint16",name:"referrerPercentage",type:"uint16"},{internalType:"uint16",name:"refereePercentage",type:"uint16"},{internalType:"uint16",name:"l2OwnerPercentage",type:"uint16"}],internalType:"struct IWorkerHub.DAOTokenPercentage",name:"_daoTokenPercentage",type:"tuple"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_referrers",type:"address[]"},{internalType:"address[]",name:"_referees",type:"address[]"}],name:"registerReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_daoToken",type:"address"}],name:"setDAOTokenAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakingHub",type:"address"}],name:"setStakingHubAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint40",name:"_submitDuration",type:"uint40"}],name:"setSubmitDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wEAI",type:"address"}],name:"setWEAIAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingHub",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_inferId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"submitSolution",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{stateMutability:"payable",type:"receive"}];function y(e){return new Promise((t=>setTimeout(t,1e3*e)))}class _{result_uri;storage;data;constructor(e,t,n){this.result_uri=e,this.storage=t,this.data=n}static fromJSON(e){const t=JSON.parse(e);return Object.assign(new _("","",""),t)}}class g{content="";role="";constructor(e,t){this.content=e,this.role=t}}class b{messages=[];max_token=4096;stream=!1;model=null}class A{web3_provider=null;agent_address="";create_web3_provider=t=>{null==this.web3_provider&&(this.web3_provider=""!=t?new e.providers.JsonRpcProvider(t):new e.providers.JsonRpcProvider(d))};get_agent_address=e=>{if(!this.agent_address&&(this.agent_address=e,""==this.agent_address))throw new Error("Agent address missing")};get_system_prompt=async(t,n)=>{if(console.log("Get system prompt from agent..."),this.create_web3_provider(n),await this.web3_provider.getNetwork()){this.get_agent_address(t);const n=new e.Contract(this.agent_address,f,this.web3_provider);try{return await n.getSystemPrompt()}catch(e){throw console.log(e),e}}return""};get_worker_hub_address=async(t,n)=>{this.create_web3_provider(n),this.get_agent_address(t);const i=new e.Contract(this.agent_address,f,this.web3_provider);return await i.getPromptSchedulerAddress()};create_inference_agent=async(t,n,i,r)=>{if(console.log("Creating inference agent..."),!t)throw new Error("Private key missing");if(this.create_web3_provider(r),await this.web3_provider.getNetwork()){this.get_agent_address(n),console.log("this.agent_address",this.agent_address);const r=new e.Wallet(t,this.web3_provider),a=r.address,o=new e.Contract(this.agent_address,f,r),u=new b;u.messages=[new g(i,"user")];const d=JSON.stringify(u),l=(s=d,(new TextEncoder).encode(s)),c=o.interface.encodeFunctionData("prompt",[l]),[p,h,m]=await Promise.all([this.web3_provider.getTransactionCount(r.address),o.estimateGas.prompt(l),r.provider.getGasPrice()]),y={from:a,to:this.agent_address,gasLimit:h,gasPrice:m,nonce:p,data:c},_=await r.sendTransaction(y);console.log(`send tx: ${_.hash}`);const A=await(async(e,t,n=120)=>{let i=null;for(;null===i;)i=await e.getTransactionReceipt(t),null===i&&await new Promise((e=>setTimeout(e,1e3*n)));return i})(this.web3_provider,_.hash,3);return console.log(`Transaction status: ${A.status}`),console.log(`Transaction hash: ${A.transactionHash}`),A.transactionHash}return null;var s}}class v{web3_provider=null;workerhub_address="";create_web3_provider=t=>{null==this.web3_provider&&(this.web3_provider=""!=t?new e.providers.JsonRpcProvider(t):new e.providers.JsonRpcProvider(d))};get_workerhub_address=e=>{if(!this.workerhub_address&&(this.workerhub_address=e,!this.workerhub_address))throw new Error("missing worker hub address")};get_assignments_by_inference=async(e,t,n)=>{if(this.create_web3_provider(n),!await this.web3_provider.eth.net.isListening())throw new Error("Web3 not connected");{this.get_workerhub_address(e);const n=new this.web3_provider.eth.Contract(h,this.workerhub_address),i=await n.methods.getAssignmentsByInference(t).call();for(const e of i){const i=(await n.methods.getAssignmentInfo(e).call())[7],r=this.web3_provider.utils.hexToBytes(i);if(0!=r.length){const e=await this.process_output_to_infer_response(r);return e||null}throw new Error(`waiting process inference ${t}`)}}};get_inference_by_inference_id=async(t,n,i)=>{if(this.create_web3_provider(i),!await this.web3_provider.getNetwork())throw new Error("Web3 not connected");{this.get_workerhub_address(t);const i=new e.Contract(this.workerhub_address,m,this.web3_provider);try{const t=(await i.getInferenceInfo(n))[10],r=e.utils.arrayify(t);if(0!=r.length){const e=await this.process_output_to_infer_response(r);return e||null}throw new Error(`waiting process inference ${n}`)}catch(e){throw e}}};process_output=e=>{const t=new TextDecoder("utf-8").decode(e);try{return _.fromJSON(t)}catch(e){return null}};process_output_to_infer_response=async e=>{const t=this.process_output(e);if(t){if("lighthouse-filecoint"==t.storage||t.result_uri.includes("ipfs://")){const e=t.result_uri.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/");console.log("light",e);const n=await fetch(e);if(n.ok){return await n.text()}return null}if(""!=t.data){return atob(t.data)}return null}return null};get_infer_id=async(t,n,i)=>{if(this.create_web3_provider(i),!await this.web3_provider.getNetwork())throw new Error("not connected");{console.log(`Get infer Id from tx ${n}`),this.get_workerhub_address(t);const i=await this.web3_provider.getTransactionReceipt(n);if(i&&1==i.status){const t=i.logs;if(t.length>0){new e.Contract(this.workerhub_address,h,this.web3_provider);for(const n of t)try{const t=new e.utils.Interface(h).parseLog(n);if("NewInference"==t.name){return t.args.inferenceId}throw new Error("No Infer Id")}catch(e){continue}throw new Error("No Infer Id")}}else console.log("Transaction receipt not found.")}}}class w{host;api_key;constructor(e,t=""){this.host=e,this.api_key=t}set_api_key=e=>{this.api_key=e};create_infer=async(e,t,n)=>{try{const i=new b;i.messages=[new g(e,"user"),new g(t,"system")],i.model=n,this.host.includes("openai")&&delete i.max_token;const r=this.host+"/chat/completions",s={"Content-Type":"application/json",Authorization:"Bearer "+this.api_key},a=JSON.stringify(i,null,4),o=await fetch(r,{method:"POST",headers:s,body:a});if(console.log(`URL call status ${o.status}`),!o.ok)throw new Error("Network response was not ok");return await o.json()}catch(e){throw console.error("Error:",e),e}};process_output=async e=>{if(e.choices){const t=e.choices[0];if(!t.message)throw new Error("invalid data");return t.message.content}throw new Error("invalid data")}}class M extends Array{constructor(e,t){if(super(e),this.sign=t,e>M.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,n=Number.isFinite;if("number"==typeof e){if(0===e)return M.__zero();if(M.__isOneDigitInt(e))return 0>e?M.__oneDigit(-e,!0):M.__oneDigit(e,!1);if(!n(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return M.__fromDouble(e)}if("string"==typeof e){const t=M.__fromString(e);if(null===t)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return t}if("boolean"==typeof e)return!0===e?M.__oneDigit(1,!1):M.__zero();if("object"==typeof e){if(e.constructor===M)return e;const t=M.__toPrimitive(e);return M.BigInt(t)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t?(t>>>0).toString(16):t)+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?M.__toStringGeneric(this,e,!1):M.__toStringBasePowerOfTwo(this,e)}static toNumber(e){const t=e.length;if(0===t)return 0;if(1===t){const t=e.__unsignedDigit(0);return e.sign?-t:t}const n=e.__digit(t-1),i=M.__clz30(n),r=30*t-i;if(1024<r)return e.sign?-1/0:1/0;let s=r-1,a=n,o=t-1;const u=i+3;let d=32===u?0:a<<u;d>>>=12;const l=u-12;let c=12<=u?0:a<<20+u,p=20+u;for(0<l&&0<o&&(o--,a=e.__digit(o),d|=a>>>30-l,c=a<<l+2,p=l+2);0<p&&0<o;)o--,a=e.__digit(o),c|=30<=p?a<<p-30:a>>>30-p,p-=30;const f=M.__decideRounding(e,p,o,a);if((1===f||0===f&&!(1&~c))&&(c=c+1>>>0,0===c&&(d++,0!=d>>>20&&(d=0,s++,1023<s))))return e.sign?-1/0:1/0;const h=e.sign?-2147483648:0;return s=s+1023<<20,M.__kBitConversionInts[1]=h|s|d,M.__kBitConversionInts[0]=c,M.__kBitConversionDouble[0]}static unaryMinus(e){if(0===e.length)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?M.__absoluteSubOne(e).__trim():M.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return M.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:M.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");let n=t.__unsignedDigit(0);if(1===n)return e;if(n>=M.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){const t=1+(0|n/30),i=e.sign&&!!(1&n),r=new M(t,i);r.__initializeDigits();const s=1<<n%30;return r.__setDigit(t-1,s),r}let i=null,r=e;for(!!(1&n)&&(i=e),n>>=1;0!==n;n>>=1)r=M.multiply(r,r),1&n&&(i=null===i?r:M.multiply(i,r));return i}static multiply(e,t){if(0===e.length)return e;if(0===t.length)return t;let n=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&n--;const i=new M(n,e.sign!==t.sign);i.__initializeDigits();for(let n=0;n<e.length;n++)M.__multiplyAccumulate(t,e.__digit(n),i,n);return i.__trim()}static divide(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>M.__absoluteCompare(e,t))return M.__zero();const n=e.sign!==t.sign,i=t.__unsignedDigit(0);let r;if(1===t.length&&32767>=i){if(1===i)return n===e.sign?e:M.unaryMinus(e);r=M.__absoluteDivSmall(e,i,null)}else r=M.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}static remainder(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>M.__absoluteCompare(e,t))return e;const n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return M.__zero();const t=M.__absoluteModSmall(e,n);return 0===t?M.__zero():M.__oneDigit(t,e.sign)}const i=M.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,t){const n=e.sign;return n===t.sign?M.__absoluteAdd(e,t,n):0<=M.__absoluteCompare(e,t)?M.__absoluteSub(e,t,n):M.__absoluteSub(t,e,!n)}static subtract(e,t){const n=e.sign;return n===t.sign?0<=M.__absoluteCompare(e,t)?M.__absoluteSub(e,t,n):M.__absoluteSub(t,e,!n):M.__absoluteAdd(e,t,n)}static leftShift(e,t){return 0===t.length||0===e.length?e:t.sign?M.__rightShiftByAbsolute(e,t):M.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return 0===t.length||0===e.length?e:t.sign?M.__leftShiftByAbsolute(e,t):M.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>M.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=M.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<M.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=M.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}static notEqual(e,t){return!M.equal(e,t)}static bitwiseAnd(e,t){var n=Math.max;if(!e.sign&&!t.sign)return M.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const i=n(e.length,t.length)+1;let r=M.__absoluteSubOne(e,i);const s=M.__absoluteSubOne(t);return r=M.__absoluteOr(r,s,r),M.__absoluteAddOne(r,!0,r).__trim()}return e.sign&&([e,t]=[t,e]),M.__absoluteAndNot(e,M.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var n=Math.max;if(!e.sign&&!t.sign)return M.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const i=n(e.length,t.length),r=M.__absoluteSubOne(e,i),s=M.__absoluteSubOne(t);return M.__absoluteXor(r,s,r).__trim()}const i=n(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let r=M.__absoluteSubOne(t,i);return r=M.__absoluteXor(r,e,r),M.__absoluteAddOne(r,!0,r).__trim()}static bitwiseOr(e,t){const n=(0,Math.max)(e.length,t.length);if(!e.sign&&!t.sign)return M.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let i=M.__absoluteSubOne(e,n);const r=M.__absoluteSubOne(t);return i=M.__absoluteAnd(i,r,i),M.__absoluteAddOne(i,!0,i).__trim()}e.sign&&([e,t]=[t,e]);let i=M.__absoluteSubOne(t,n);return i=M.__absoluteAndNot(i,e,i),M.__absoluteAddOne(i,!0,i).__trim()}static asIntN(e,t){var n=Math.floor;if(0===t.length)return t;if(0>(e=n(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return M.__zero();if(e>=M.__kMaxLengthBits)return t;const i=0|(e+29)/30;if(t.length<i)return t;const r=t.__unsignedDigit(i-1),s=1<<(e-1)%30;if(t.length===i&&r<s)return t;if((r&s)!==s)return M.__truncateToNBits(e,t);if(!t.sign)return M.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(r&s-1)){for(let n=i-2;0<=n;n--)if(0!==t.__digit(n))return M.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===i&&r===s?t:M.__truncateToNBits(e,t)}return M.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var n=Math.floor;if(0===t.length)return t;if(0>(e=n(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return M.__zero();if(t.sign){if(e>M.__kMaxLengthBits)throw new RangeError("BigInt too big");return M.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=M.__kMaxLengthBits)return t;const i=0|(e+29)/30;if(t.length<i)return t;const r=e%30;if(t.length==i){if(0===r)return t;if(0==t.__digit(i-1)>>>r)return t}return M.__truncateToNBits(e,t)}static ADD(e,t){if(e=M.__toPrimitive(e),t=M.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=M.__toNumeric(e),t=M.__toNumeric(t),M.__isBigInt(e)&&M.__isBigInt(t))return M.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return M.__compare(e,t,0)}static LE(e,t){return M.__compare(e,t,1)}static GT(e,t){return M.__compare(e,t,2)}static GE(e,t){return M.__compare(e,t,3)}static EQ(e,t){for(;;){if(M.__isBigInt(e))return M.__isBigInt(t)?M.equal(e,t):M.EQ(t,e);if("number"==typeof e){if(M.__isBigInt(t))return M.__equalToNumber(t,e);if("object"!=typeof t)return e==t;t=M.__toPrimitive(t)}else if("string"==typeof e){if(M.__isBigInt(t))return null!==(e=M.__fromString(e))&&M.equal(e,t);if("object"!=typeof t)return e==t;t=M.__toPrimitive(t)}else if("boolean"==typeof e){if(M.__isBigInt(t))return M.__equalToNumber(t,+e);if("object"!=typeof t)return e==t;t=M.__toPrimitive(t)}else if("symbol"==typeof e){if(M.__isBigInt(t))return!1;if("object"!=typeof t)return e==t;t=M.__toPrimitive(t)}else{if("object"!=typeof e)return e==t;if("object"==typeof t&&t.constructor!==M)return e==t;e=M.__toPrimitive(e)}}}static NE(e,t){return!M.EQ(e,t)}static __zero(){return new M(0,!1)}static __oneDigit(e,t){const n=new M(1,t);return n.__setDigit(0,e),n}__copy(){const e=new M(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;0===t;)e--,t=this[e-1],this.pop();return 0===e&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,n,i){if(0<t)return-1;let r;if(0>t)r=-t-1;else{if(0===n)return-1;n--,i=e.__digit(n),r=29}let s=1<<r;if(!(i&s))return-1;if(s-=1,i&s)return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}static __fromDouble(e){M.__kBitConversionDouble[0]=e;const t=(2047&M.__kBitConversionInts[1]>>>20)-1023,n=1+(0|t/30),i=new M(n,0>e);let r=1048575&M.__kBitConversionInts[1]|1048576,s=M.__kBitConversionInts[0];const a=t%30;let o,u=0;if(a<20){const e=20-a;u=e+32,o=r>>>e,r=r<<32-e|s>>>e,s<<=32-e}else if(20===a)u=32,o=r,r=s,s=0;else{const e=a-20;u=32-e,o=r<<e|s>>>32-e,r=s<<e,s=0}i.__setDigit(n-1,o);for(let e=n-2;0<=e;e--)0<u?(u-=30,o=r>>>2,r=r<<30|s>>>2,s<<=30):o=0,i.__setDigit(e,o);return i.__trim()}static __isWhitespace(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}static __fromString(e,t=0){let n=0;const i=e.length;let r=0;if(r===i)return M.__zero();let s=e.charCodeAt(r);for(;M.__isWhitespace(s);){if(++r===i)return M.__zero();s=e.charCodeAt(r)}if(43===s){if(++r===i)return null;s=e.charCodeAt(r),n=1}else if(45===s){if(++r===i)return null;s=e.charCodeAt(r),n=-1}if(0===t){if(t=10,48===s){if(++r===i)return M.__zero();if(s=e.charCodeAt(r),88===s||120===s){if(t=16,++r===i)return null;s=e.charCodeAt(r)}else if(79===s||111===s){if(t=8,++r===i)return null;s=e.charCodeAt(r)}else if(66===s||98===s){if(t=2,++r===i)return null;s=e.charCodeAt(r)}}}else if(16===t&&48===s){if(++r===i)return M.__zero();if(s=e.charCodeAt(r),88===s||120===s){if(++r===i)return null;s=e.charCodeAt(r)}}if(0!=n&&10!==t)return null;for(;48===s;){if(++r===i)return M.__zero();s=e.charCodeAt(r)}const a=i-r;let o=M.__kMaxBitsPerChar[t],u=M.__kBitsPerCharTableMultiplier-1;if(a>1073741824/o)return null;const d=o*a+u>>>M.__kBitsPerCharTableShift,l=new M(0|(d+29)/30,!1),c=10>t?t:10,p=10<t?t-10:0;if(t&t-1){l.__initializeDigits();let n=!1,a=0;do{let d=0,f=1;for(;;){let o;if(s-48>>>0<c)o=s-48;else{if(!((32|s)-97>>>0<p)){n=!0;break}o=(32|s)-87}const u=f*t;if(1073741823<u)break;if(f=u,d=d*t+o,a++,++r===i){n=!0;break}s=e.charCodeAt(r)}u=30*M.__kBitsPerCharTableMultiplier-1;const h=0|(o*a+u>>>M.__kBitsPerCharTableShift)/30;l.__inplaceMultiplyAdd(f,d,h)}while(!n)}else{o>>=M.__kBitsPerCharTableShift;const t=[],n=[];let a=!1;do{let u=0,d=0;for(;;){let t;if(s-48>>>0<c)t=s-48;else{if(!((32|s)-97>>>0<p)){a=!0;break}t=(32|s)-87}if(d+=o,u=u<<o|t,++r===i){a=!0;break}if(s=e.charCodeAt(r),30<d+o)break}t.push(u),n.push(d)}while(!a);M.__fillFromParts(l,t,n)}if(r!==i){if(!M.__isWhitespace(s))return null;for(r++;r<i;r++)if(s=e.charCodeAt(r),!M.__isWhitespace(s))return null}return l.sign=-1==n,l.__trim()}static __fillFromParts(e,t,n){let i=0,r=0,s=0;for(let a=t.length-1;0<=a;a--){const o=t[a],u=n[a];r|=o<<s,s+=u,30===s?(e.__setDigit(i++,r),s=0,r=0):30<s&&(e.__setDigit(i++,1073741823&r),s-=30,r=o>>>u-s)}if(0!==r){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,r)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,t){const n=e.length;let i=t-1;i=(85&i>>>1)+(85&i),i=(51&i>>>2)+(51&i),i=(15&i>>>4)+(15&i);const r=i,s=t-1,a=e.__digit(n-1);let o=0|(30*n-M.__clz30(a)+r-1)/r;if(e.sign&&o++,268435456<o)throw new Error("string too long");const u=Array(o);let d=o-1,l=0,c=0;for(let t=0;t<n-1;t++){const n=e.__digit(t),i=(l|n<<c)&s;u[d--]=M.__kConversionChars[i];const a=r-c;for(l=n>>>a,c=30-a;c>=r;)u[d--]=M.__kConversionChars[l&s],l>>>=r,c-=r}const p=(l|a<<c)&s;for(u[d--]=M.__kConversionChars[p],l=a>>>r-c;0!==l;)u[d--]=M.__kConversionChars[l&s],l>>>=r;if(e.sign&&(u[d--]="-"),-1!=d)throw new Error("implementation bug");return u.join("")}static __toStringGeneric(e,t,n){const i=e.length;if(0===i)return"";if(1===i){let i=e.__unsignedDigit(0).toString(t);return!1===n&&e.sign&&(i="-"+i),i}const r=30*i-M.__clz30(e.__digit(i-1)),s=M.__kMaxBitsPerChar[t]-1;let a=r*M.__kBitsPerCharTableMultiplier;a+=s-1,a=0|a/s;const o=a+1>>1,u=M.exponentiate(M.__oneDigit(t,!1),M.__oneDigit(o,!1));let d,l;const c=u.__unsignedDigit(0);if(1===u.length&&32767>=c){d=new M(e.length,!1),d.__initializeDigits();let n=0;for(let t=2*e.length-1;0<=t;t--){const i=n<<15|e.__halfDigit(t);d.__setHalfDigit(t,0|i/c),n=0|i%c}l=n.toString(t)}else{const n=M.__absoluteDivLarge(e,u,!0,!0);d=n.quotient;const i=n.remainder.__trim();l=M.__toStringGeneric(i,t,!0)}d.__trim();let p=M.__toStringGeneric(d,t,!0);for(;l.length<o;)l="0"+l;return!1===n&&e.sign&&(p="-"+p),p+l}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const n=e.sign;if(n!==t.sign)return M.__unequalSign(n);const i=M.__absoluteCompare(e,t);return 0<i?M.__absoluteGreater(n):0>i?M.__absoluteLess(n):0}static __compareToNumber(e,t){if(M.__isOneDigitInt(t)){const n=e.sign,i=0>t;if(n!==i)return M.__unequalSign(n);if(0===e.length){if(i)throw new Error("implementation bug");return 0===t?0:-1}if(1<e.length)return M.__absoluteGreater(n);const r=Math.abs(t),s=e.__unsignedDigit(0);return s>r?M.__absoluteGreater(n):s<r?M.__absoluteLess(n):0}return M.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const n=e.sign;if(n!==0>t)return M.__unequalSign(n);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;M.__kBitConversionDouble[0]=t;const i=2047&M.__kBitConversionInts[1]>>>20;if(2047==i)throw new Error("implementation bug: handled elsewhere");const r=i-1023;if(0>r)return M.__absoluteGreater(n);const s=e.length;let a=e.__digit(s-1);const o=M.__clz30(a),u=30*s-o,d=r+1;if(u<d)return M.__absoluteLess(n);if(u>d)return M.__absoluteGreater(n);let l=1048576|1048575&M.__kBitConversionInts[1],c=M.__kBitConversionInts[0];const p=29-o;if(p!==(0|(u-1)%30))throw new Error("implementation bug");let f,h=0;if(20>p){const e=20-p;h=e+32,f=l>>>e,l=l<<32-e|c>>>e,c<<=32-e}else if(20===p)h=32,f=l,l=c,c=0;else{const e=p-20;h=32-e,f=l<<e|c>>>32-e,l=c<<e,c=0}if(a>>>=0,f>>>=0,a>f)return M.__absoluteGreater(n);if(a<f)return M.__absoluteLess(n);for(let t=s-2;0<=t;t--){0<h?(h-=30,f=l>>>2,l=l<<30|c>>>2,c<<=30):f=0;const i=e.__unsignedDigit(t);if(i>f)return M.__absoluteGreater(n);if(i<f)return M.__absoluteLess(n)}if(0!==l||0!==c){if(0===h)throw new Error("implementation bug");return M.__absoluteLess(n)}return 0}static __equalToNumber(e,t){var n=Math.abs;return M.__isOneDigitInt(t)?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===n(t):0===M.__compareToDouble(e,t)}static __comparisonResultToBool(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}static __compare(e,t,n){if(e=M.__toPrimitive(e),t=M.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(M.__isBigInt(e)&&"string"==typeof t)return null!==(t=M.__fromString(t))&&M.__comparisonResultToBool(M.__compareToBigInt(e,t),n);if("string"==typeof e&&M.__isBigInt(t))return null!==(e=M.__fromString(e))&&M.__comparisonResultToBool(M.__compareToBigInt(e,t),n);if(e=M.__toNumeric(e),t=M.__toNumeric(t),M.__isBigInt(e)){if(M.__isBigInt(t))return M.__comparisonResultToBool(M.__compareToBigInt(e,t),n);if("number"!=typeof t)throw new Error("implementation bug");return M.__comparisonResultToBool(M.__compareToNumber(e,t),n)}if("number"!=typeof e)throw new Error("implementation bug");if(M.__isBigInt(t))return M.__comparisonResultToBool(M.__compareToNumber(t,e),2^n);if("number"!=typeof t)throw new Error("implementation bug");return 0===n?e<t:1===n?e<=t:2===n?e>t:3===n?e>=t:void 0}__clzmsd(){return M.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,n){if(e.length<t.length)return M.__absoluteAdd(t,e,n);if(0===e.length)return e;if(0===t.length)return e.sign===n?e:M.unaryMinus(e);let i=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&i++;const r=new M(i,n);let s=0,a=0;for(;a<t.length;a++){const n=e.__digit(a)+t.__digit(a)+s;s=n>>>30,r.__setDigit(a,1073741823&n)}for(;a<e.length;a++){const t=e.__digit(a)+s;s=t>>>30,r.__setDigit(a,1073741823&t)}return a<r.length&&r.__setDigit(a,s),r.__trim()}static __absoluteSub(e,t,n){if(0===e.length)return e;if(0===t.length)return e.sign===n?e:M.unaryMinus(e);const i=new M(e.length,n);let r=0,s=0;for(;s<t.length;s++){const n=e.__digit(s)-t.__digit(s)-r;r=1&n>>>30,i.__setDigit(s,1073741823&n)}for(;s<e.length;s++){const t=e.__digit(s)-r;r=1&t>>>30,i.__setDigit(s,1073741823&t)}return i.__trim()}static __absoluteAddOne(e,t,n=null){const i=e.length;null===n?n=new M(i,t):n.sign=t;let r=1;for(let t=0;t<i;t++){const i=e.__digit(t)+r;r=i>>>30,n.__setDigit(t,1073741823&i)}return 0!=r&&n.__setDigitGrow(i,1),n}static __absoluteSubOne(e,t){const n=e.length,i=new M(t=t||n,!1);let r=1;for(let t=0;t<n;t++){const n=e.__digit(t)-r;r=1&n>>>30,i.__setDigit(t,1073741823&n)}if(0!=r)throw new Error("implementation bug");for(let e=n;e<t;e++)i.__setDigit(e,0);return i}static __absoluteAnd(e,t,n=null){let i=e.length,r=t.length,s=r;if(i<r){s=i;const n=e,a=i;e=t,i=r,t=n,r=a}let a=s;null===n?n=new M(a,!1):a=n.length;let o=0;for(;o<s;o++)n.__setDigit(o,e.__digit(o)&t.__digit(o));for(;o<a;o++)n.__setDigit(o,0);return n}static __absoluteAndNot(e,t,n=null){const i=e.length,r=t.length;let s=r;i<r&&(s=i);let a=i;null===n?n=new M(a,!1):a=n.length;let o=0;for(;o<s;o++)n.__setDigit(o,e.__digit(o)&~t.__digit(o));for(;o<i;o++)n.__setDigit(o,e.__digit(o));for(;o<a;o++)n.__setDigit(o,0);return n}static __absoluteOr(e,t,n=null){let i=e.length,r=t.length,s=r;if(i<r){s=i;const n=e,a=i;e=t,i=r,t=n,r=a}let a=i;null===n?n=new M(a,!1):a=n.length;let o=0;for(;o<s;o++)n.__setDigit(o,e.__digit(o)|t.__digit(o));for(;o<i;o++)n.__setDigit(o,e.__digit(o));for(;o<a;o++)n.__setDigit(o,0);return n}static __absoluteXor(e,t,n=null){let i=e.length,r=t.length,s=r;if(i<r){s=i;const n=e,a=i;e=t,i=r,t=n,r=a}let a=i;null===n?n=new M(a,!1):a=n.length;let o=0;for(;o<s;o++)n.__setDigit(o,e.__digit(o)^t.__digit(o));for(;o<i;o++)n.__setDigit(o,e.__digit(o));for(;o<a;o++)n.__setDigit(o,0);return n}static __absoluteCompare(e,t){const n=e.length-t.length;if(0!=n)return n;let i=e.length-1;for(;0<=i&&e.__digit(i)===t.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>t.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,t,n,i){if(0===t)return;const r=32767&t,s=t>>>15;let a=0,o=0;for(let t,u=0;u<e.length;u++,i++){t=n.__digit(i);const d=e.__digit(u),l=32767&d,c=d>>>15,p=M.__imul(l,r),f=M.__imul(l,s),h=M.__imul(c,r);t+=o+p+a,a=t>>>30,t&=1073741823,t+=((32767&f)<<15)+((32767&h)<<15),a+=t>>>30,o=M.__imul(c,s)+(f>>>15)+(h>>>15),n.__setDigit(i,1073741823&t)}for(;0!=a||0!==o;i++){let e=n.__digit(i);e+=a+o,o=0,a=e>>>30,n.__setDigit(i,1073741823&e)}}static __internalMultiplyAdd(e,t,n,i,r){let s=n,a=0;for(let n=0;n<i;n++){const i=e.__digit(n),o=M.__imul(32767&i,t),u=M.__imul(i>>>15,t),d=o+((32767&u)<<15)+a+s;s=d>>>30,a=u>>>15,r.__setDigit(n,1073741823&d)}if(r.length>i)for(r.__setDigit(i++,s+a);i<r.length;)r.__setDigit(i++,0);else if(0!==s+a)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,n){n>this.length&&(n=this.length);const i=32767&e,r=e>>>15;let s=0,a=t;for(let e=0;e<n;e++){const t=this.__digit(e),n=32767&t,o=t>>>15,u=M.__imul(n,i),d=M.__imul(n,r),l=M.__imul(o,i);let c=a+u+s;s=c>>>30,c&=1073741823,c+=((32767&d)<<15)+((32767&l)<<15),s+=c>>>30,a=M.__imul(o,r)+(d>>>15)+(l>>>15),this.__setDigit(e,1073741823&c)}if(0!=s||0!==a)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,n=null){null===n&&(n=new M(e.length,!1));let i=0;for(let r,s=2*e.length-1;0<=s;s-=2){r=(i<<15|e.__halfDigit(s))>>>0;const a=0|r/t;i=0|r%t,r=(i<<15|e.__halfDigit(s-1))>>>0;const o=0|r/t;i=0|r%t,n.__setDigit(s>>>1,a<<15|o)}return n}static __absoluteModSmall(e,t){let n=0;for(let i=2*e.length-1;0<=i;i--){n=0|((n<<15|e.__halfDigit(i))>>>0)%t}return n}static __absoluteDivLarge(e,t,n,i){const r=t.__halfDigitLength(),s=t.length,a=e.__halfDigitLength()-r;let o=null;n&&(o=new M(a+2>>>1,!1),o.__initializeDigits());const u=new M(r+2>>>1,!1);u.__initializeDigits();const d=M.__clz15(t.__halfDigit(r-1));0<d&&(t=M.__specialLeftShift(t,d,0));const l=M.__specialLeftShift(e,d,1),c=t.__halfDigit(r-1);let p=0;for(let e,i=a;0<=i;i--){e=32767;const a=l.__halfDigit(i+r);if(a!==c){const n=(a<<15|l.__halfDigit(i+r-1))>>>0;e=0|n/c;let s=0|n%c;const o=t.__halfDigit(r-2),u=l.__halfDigit(i+r-2);for(;M.__imul(e,o)>>>0>(s<<16|u)>>>0&&(e--,s+=c,!(32767<s)););}M.__internalMultiplyAdd(t,e,0,s,u);let d=l.__inplaceSub(u,i,r+1);0!==d&&(d=l.__inplaceAdd(t,i,r),l.__setHalfDigit(i+r,32767&l.__halfDigit(i+r)+d),e--),n&&(1&i?p=e<<15:o.__setDigit(i>>>1,p|e))}if(i)return l.__inplaceRightShift(d),n?{quotient:o,remainder:l}:l;if(n)return o;throw new Error("unreachable")}static __clz15(e){return M.__clz30(e)-15}__inplaceAdd(e,t,n){let i=0;for(let r=0;r<n;r++){const n=this.__halfDigit(t+r)+e.__halfDigit(r)+i;i=n>>>15,this.__setHalfDigit(t+r,32767&n)}return i}__inplaceSub(e,t,n){let i=0;if(1&t){t>>=1;let r=this.__digit(t),s=32767&r,a=0;for(;a<n-1>>>1;a++){const n=e.__digit(a),o=(r>>>15)-(32767&n)-i;i=1&o>>>15,this.__setDigit(t+a,(32767&o)<<15|32767&s),r=this.__digit(t+a+1),s=(32767&r)-(n>>>15)-i,i=1&s>>>15}const o=e.__digit(a),u=(r>>>15)-(32767&o)-i;if(i=1&u>>>15,this.__setDigit(t+a,(32767&u)<<15|32767&s),t+a+1>=this.length)throw new RangeError("out of bounds");!(1&n)&&(r=this.__digit(t+a+1),s=(32767&r)-(o>>>15)-i,i=1&s>>>15,this.__setDigit(t+e.length,1073709056&r|32767&s))}else{t>>=1;let r=0;for(;r<e.length-1;r++){const n=this.__digit(t+r),s=e.__digit(r),a=(32767&n)-(32767&s)-i;i=1&a>>>15;const o=(n>>>15)-(s>>>15)-i;i=1&o>>>15,this.__setDigit(t+r,(32767&o)<<15|32767&a)}const s=this.__digit(t+r),a=e.__digit(r),o=(32767&s)-(32767&a)-i;i=1&o>>>15;let u=0;!(1&n)&&(u=(s>>>15)-(a>>>15)-i,i=1&u>>>15),this.__setDigit(t+r,(32767&u)<<15|32767&o)}return i}__inplaceRightShift(e){if(0===e)return;let t=this.__digit(0)>>>e;const n=this.length-1;for(let i=0;i<n;i++){const n=this.__digit(i+1);this.__setDigit(i,1073741823&n<<30-e|t),t=n>>>e}this.__setDigit(n,t)}static __specialLeftShift(e,t,n){const i=e.length,r=new M(i+n,!1);if(0===t){for(let t=0;t<i;t++)r.__setDigit(t,e.__digit(t));return 0<n&&r.__setDigit(i,0),r}let s=0;for(let n=0;n<i;n++){const i=e.__digit(n);r.__setDigit(n,1073741823&i<<t|s),s=i>>>30-t}return 0<n&&r.__setDigit(i,s),r}static __leftShiftByAbsolute(e,t){const n=M.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");const i=0|n/30,r=n%30,s=e.length,a=0!==r&&0!=e.__digit(s-1)>>>30-r,o=s+i+(a?1:0),u=new M(o,e.sign);if(0===r){let t=0;for(;t<i;t++)u.__setDigit(t,0);for(;t<o;t++)u.__setDigit(t,e.__digit(t-i))}else{let t=0;for(let e=0;e<i;e++)u.__setDigit(e,0);for(let n=0;n<s;n++){const s=e.__digit(n);u.__setDigit(n+i,1073741823&s<<r|t),t=s>>>30-r}if(a)u.__setDigit(s+i,t);else if(0!==t)throw new Error("implementation bug")}return u.__trim()}static __rightShiftByAbsolute(e,t){const n=e.length,i=e.sign,r=M.__toShiftAmount(t);if(0>r)return M.__rightShiftByMaximum(i);const s=0|r/30,a=r%30;let o=n-s;if(0>=o)return M.__rightShiftByMaximum(i);let u=!1;if(i)if(e.__digit(s)&(1<<a)-1)u=!0;else for(let t=0;t<s;t++)if(0!==e.__digit(t)){u=!0;break}if(u&&0===a){0==~e.__digit(n-1)&&o++}let d=new M(o,i);if(0===a){d.__setDigit(o-1,0);for(let t=s;t<n;t++)d.__setDigit(t-s,e.__digit(t))}else{let t=e.__digit(s)>>>a;const i=n-s-1;for(let n=0;n<i;n++){const i=e.__digit(n+s+1);d.__setDigit(n,1073741823&i<<30-a|t),t=i>>>a}d.__setDigit(i,t)}return u&&(d=M.__absoluteAddOne(d,!0,d)),d.__trim()}static __rightShiftByMaximum(e){return e?M.__oneDigit(1,!0):M.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>M.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if("object"!=typeof e)return e;if(e.constructor===M)return e;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){const n=e[Symbol.toPrimitive];if(n){const e=n(t);if("object"!=typeof e)return e;throw new TypeError("Cannot convert object to primitive value")}}const n=e.valueOf;if(n){const t=n.call(e);if("object"!=typeof t)return t}const i=e.toString;if(i){const t=i.call(e);if("object"!=typeof t)return t}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return M.__isBigInt(e)?e:+e}static __isBigInt(e){return"object"==typeof e&&null!==e&&e.constructor===M}static __truncateToNBits(e,t){const n=0|(e+29)/30,i=new M(n,t.sign),r=n-1;for(let e=0;e<r;e++)i.__setDigit(e,t.__digit(e));let s=t.__digit(r);if(0!=e%30){const t=32-e%30;s=s<<t>>>t}return i.__setDigit(r,s),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,n){var i=Math.min;const r=0|(e+29)/30,s=new M(r,n);let a=0;const o=r-1;let u=0;for(const e=i(o,t.length);a<e;a++){const e=0-t.__digit(a)-u;u=1&e>>>30,s.__setDigit(a,1073741823&e)}for(;a<o;a++)s.__setDigit(a,1073741823&-u);let d=o<t.length?t.__digit(o):0;const l=e%30;let c;if(0==l)c=0-d-u,c&=1073741823;else{const e=32-l;d=d<<e>>>e;const t=1<<32-e;c=t-d-u,c&=t-1}return s.__setDigit(o,c),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const n=e>>>1,i=this.__digit(n),r=1&e?32767&i|t<<15:1073709056&i|32767&t;this.__setDigit(n,r)}static __digitPow(e,t){let n=1;for(;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}static __isOneDigitInt(e){return(1073741823&e)===e}}M.__kMaxLength=33554432,M.__kMaxLengthBits=M.__kMaxLength<<5,M.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],M.__kBitsPerCharTableShift=5,M.__kBitsPerCharTableMultiplier=1<<M.__kBitsPerCharTableShift,M.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],M.__kBitConversionBuffer=new ArrayBuffer(8),M.__kBitConversionDouble=new Float64Array(M.__kBitConversionBuffer),M.__kBitConversionInts=new Int32Array(M.__kBitConversionBuffer),M.__clz30=Math.clz32?function(e){return Math.clz32(e)-2}:function(e){return 0===e?30:0|29-(0|Math.log(e>>>0)/Math.LN2)},M.__imul=Math.imul||function(e,t){return 0|e*t};var E="production"===process.env.NODE_ENV,T="Invariant failed";function x(e,t){if(!e){if(E)throw new Error(T);var n="function"==typeof t?t():t,i=n?"".concat(T,": ").concat(n):T;throw new Error(i)}}var C,D=1e9,I=!0,O="[DecimalError] ",N=O+"Invalid argument: ",B=O+"Exponent out of range: ",S=Math.floor,F=Math.pow,R=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,P=1e7,k=9007199254740991,L=S(1286742750677284.5),U={};function G(e,t){var n,i,r,s,a,o,u,d,l=e.constructor,c=l.precision;if(!e.s||!t.s)return t.s||(t=new l(e)),I?Y(t,c):t;if(u=e.d,d=t.d,a=e.e,r=t.e,u=u.slice(),s=a-r){for(s<0?(i=u,s=-s,o=d.length):(i=d,r=a,o=u.length),s>(o=(a=Math.ceil(c/7))>o?a+1:o+1)&&(s=o,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for((o=u.length)-(s=d.length)<0&&(s=o,i=d,d=u,u=i),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/P|0,u[s]%=P;for(n&&(u.unshift(n),++r),o=u.length;0==u[--o];)u.pop();return t.d=u,t.e=r,I?Y(t,c):t}function H(e,t,n){if(e!==~~e||e<t||e>n)throw Error(N+e)}function W(e){var t,n,i,r=e.length-1,s="",a=e[0];if(r>0){for(s+=a,t=1;t<r;t++)(n=7-(i=e[t]+"").length)&&(s+=J(n)),s+=i;(n=7-(i=(a=e[t])+"").length)&&(s+=J(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}U.absoluteValue=U.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},U.comparedTo=U.cmp=function(e){var t,n,i,r,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(i=s.d.length)<(r=e.d.length)?i:r;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1},U.decimalPlaces=U.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},U.dividedBy=U.div=function(e){return q(this,new this.constructor(e))},U.dividedToIntegerBy=U.idiv=function(e){var t=this.constructor;return Y(q(this,new t(e),0,1),t.precision)},U.equals=U.eq=function(e){return!this.cmp(e)},U.exponent=function(){return V(this)},U.greaterThan=U.gt=function(e){return this.cmp(e)>0},U.greaterThanOrEqualTo=U.gte=function(e){return this.cmp(e)>=0},U.isInteger=U.isint=function(){return this.e>this.d.length-2},U.isNegative=U.isneg=function(){return this.s<0},U.isPositive=U.ispos=function(){return this.s>0},U.isZero=function(){return 0===this.s},U.lessThan=U.lt=function(e){return this.cmp(e)<0},U.lessThanOrEqualTo=U.lte=function(e){return this.cmp(e)<1},U.logarithm=U.log=function(e){var t,n=this,i=n.constructor,r=i.precision,s=r+5;if(void 0===e)e=new i(10);else if((e=new i(e)).s<1||e.eq(C))throw Error(O+"NaN");if(n.s<1)throw Error(O+(n.s?"NaN":"-Infinity"));return n.eq(C)?new i(0):(I=!1,t=q($(n,s),$(e,s),s),I=!0,Y(t,r))},U.minus=U.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?X(t,e):G(t,(e.s=-e.s,e))},U.modulo=U.mod=function(e){var t,n=this,i=n.constructor,r=i.precision;if(!(e=new i(e)).s)throw Error(O+"NaN");return n.s?(I=!1,t=q(n,e,0,1).times(e),I=!0,n.minus(t)):Y(new i(n),r)},U.naturalExponential=U.exp=function(){return z(this)},U.naturalLogarithm=U.ln=function(){return $(this)},U.negated=U.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},U.plus=U.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G(t,e):X(t,(e.s=-e.s,e))},U.precision=U.sd=function(e){var t,n,i,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(N+e);if(t=V(r)+1,n=7*(i=r.d.length-1)+1,i=r.d[i]){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return e&&t>n?t:n},U.squareRoot=U.sqrt=function(){var e,t,n,i,r,s,a,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(O+"NaN")}for(e=V(o),I=!1,0==(r=Math.sqrt(+o))||r==1/0?(((t=W(o.d)).length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=S((e+1)/2)-(e<0||e%2),i=new u(t=r==1/0?"5e"+e:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+e)):i=new u(r.toString()),r=a=(n=u.precision)+3;;)if(i=(s=i).plus(q(o,s,a+2)).times(.5),W(s.d).slice(0,a)===(t=W(i.d)).slice(0,a)){if(t=t.slice(a-3,a+1),r==a&&"4999"==t){if(Y(s,n+1,0),s.times(s).eq(o)){i=s;break}}else if("9999"!=t)break;a+=4}return I=!0,Y(i,n)},U.times=U.mul=function(e){var t,n,i,r,s,a,o,u,d,l=this,c=l.constructor,p=l.d,f=(e=new c(e)).d;if(!l.s||!e.s)return new c(0);for(e.s*=l.s,n=l.e+e.e,(u=p.length)<(d=f.length)&&(s=p,p=f,f=s,a=u,u=d,d=a),s=[],i=a=u+d;i--;)s.push(0);for(i=d;--i>=0;){for(t=0,r=u+i;r>i;)o=s[r]+f[i]*p[r-i-1]+t,s[r--]=o%P|0,t=o/P|0;s[r]=(s[r]+t)%P|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,I?Y(e,c.precision):e},U.toDecimalPlaces=U.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),void 0===e?n:(H(e,0,D),void 0===t?t=i.rounding:H(t,0,8),Y(n,e+V(n)+1,t))},U.toExponential=function(e,t){var n,i=this,r=i.constructor;return void 0===e?n=K(i,!0):(H(e,0,D),void 0===t?t=r.rounding:H(t,0,8),n=K(i=Y(new r(i),e+1,t),!0,e+1)),n},U.toFixed=function(e,t){var n,i,r=this,s=r.constructor;return void 0===e?K(r):(H(e,0,D),void 0===t?t=s.rounding:H(t,0,8),n=K((i=Y(new s(r),e+V(r)+1,t)).abs(),!1,e+V(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)},U.toInteger=U.toint=function(){var e=this,t=e.constructor;return Y(new t(e),V(e)+1,t.rounding)},U.toNumber=function(){return+this},U.toPower=U.pow=function(e){var t,n,i,r,s,a,o=this,u=o.constructor,d=+(e=new u(e));if(!e.s)return new u(C);if(!(o=new u(o)).s){if(e.s<1)throw Error(O+"Infinity");return o}if(o.eq(C))return o;if(i=u.precision,e.eq(C))return Y(o,i);if(a=(t=e.e)>=(n=e.d.length-1),s=o.s,a){if((n=d<0?-d:d)<=k){for(r=new u(C),t=Math.ceil(i/7+4),I=!1;n%2&&Q((r=r.times(o)).d,t),0!==(n=S(n/2));)Q((o=o.times(o)).d,t);return I=!0,e.s<0?new u(C).div(r):Y(r,i)}}else if(s<0)throw Error(O+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,I=!1,r=e.times($(o,i+12)),I=!0,(r=z(r)).s=s,r},U.toPrecision=function(e,t){var n,i,r=this,s=r.constructor;return void 0===e?i=K(r,(n=V(r))<=s.toExpNeg||n>=s.toExpPos):(H(e,1,D),void 0===t?t=s.rounding:H(t,0,8),i=K(r=Y(new s(r),e,t),e<=(n=V(r))||n<=s.toExpNeg,e)),i},U.toSignificantDigits=U.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(H(e,1,D),void 0===t?t=n.rounding:H(t,0,8)),Y(new n(this),e,t)},U.toString=U.valueOf=U.val=U.toJSON=U[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=V(e),n=e.constructor;return K(e,t<=n.toExpNeg||t>=n.toExpPos)};var q=function(){function e(e,t){var n,i=0,r=e.length;for(e=e.slice();r--;)n=e[r]*t+i,e[r]=n%P|0,i=n/P|0;return i&&e.unshift(i),e}function t(e,t,n,i){var r,s;if(n!=i)s=n>i?1:-1;else for(r=s=0;r<n;r++)if(e[r]!=t[r]){s=e[r]>t[r]?1:-1;break}return s}function n(e,t,n){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*P+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(i,r,s,a){var o,u,d,l,c,p,f,h,m,y,_,g,b,A,v,w,M,E,T=i.constructor,x=i.s==r.s?1:-1,C=i.d,D=r.d;if(!i.s)return new T(i);if(!r.s)throw Error(O+"Division by zero");for(u=i.e-r.e,M=D.length,v=C.length,h=(f=new T(x)).d=[],d=0;D[d]==(C[d]||0);)++d;if(D[d]>(C[d]||0)&&--u,(g=null==s?s=T.precision:a?s+(V(i)-V(r))+1:s)<0)return new T(0);if(g=g/7+2|0,d=0,1==M)for(l=0,D=D[0],g++;(d<v||l)&&g--;d++)b=l*P+(C[d]||0),h[d]=b/D|0,l=b%D|0;else{for((l=P/(D[0]+1)|0)>1&&(D=e(D,l),C=e(C,l),M=D.length,v=C.length),A=M,y=(m=C.slice(0,M)).length;y<M;)m[y++]=0;(E=D.slice()).unshift(0),w=D[0],D[1]>=P/2&&++w;do{l=0,(o=t(D,m,M,y))<0?(_=m[0],M!=y&&(_=_*P+(m[1]||0)),(l=_/w|0)>1?(l>=P&&(l=P-1),1==(o=t(c=e(D,l),m,p=c.length,y=m.length))&&(l--,n(c,M<p?E:D,p))):(0==l&&(o=l=1),c=D.slice()),(p=c.length)<y&&c.unshift(0),n(m,c,y),-1==o&&(o=t(D,m,M,y=m.length))<1&&(l++,n(m,M<y?E:D,y)),y=m.length):0===o&&(l++,m=[0]),h[d++]=l,o&&m[0]?m[y++]=C[A]||0:(m=[C[A]],y=1)}while((A++<v||void 0!==m[0])&&g--)}return h[0]||h.shift(),f.e=u,Y(f,a?s+V(f)+1:s)}}();function z(e,t){var n,i,r,s,a,o=0,u=0,d=e.constructor,l=d.precision;if(V(e)>16)throw Error(B+V(e));if(!e.s)return new d(C);for(null==t?(I=!1,a=l):a=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(a+=Math.log(F(2,u))/Math.LN10*2+5|0,n=i=r=new d(C),d.precision=a;;){if(i=Y(i.times(e),a),n=n.times(++o),W((s=r.plus(q(i,n,a))).d).slice(0,a)===W(r.d).slice(0,a)){for(;u--;)r=Y(r.times(r),a);return d.precision=l,null==t?(I=!0,Y(r,l)):r}r=s}}function V(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function j(e,t,n){if(t>e.LN10.sd())throw I=!0,n&&(e.precision=n),Error(O+"LN10 precision limit exceeded");return Y(new e(e.LN10),t)}function J(e){for(var t="";e--;)t+="0";return t}function $(e,t){var n,i,r,s,a,o,u,d,l,c=1,p=e,f=p.d,h=p.constructor,m=h.precision;if(p.s<1)throw Error(O+(p.s?"NaN":"-Infinity"));if(p.eq(C))return new h(0);if(null==t?(I=!1,d=m):d=t,p.eq(10))return null==t&&(I=!0),j(h,d);if(d+=10,h.precision=d,i=(n=W(f)).charAt(0),s=V(p),!(Math.abs(s)<15e14))return u=j(h,d+2,m).times(s+""),p=$(new h(i+"."+n.slice(1)),d-10).plus(u),h.precision=m,null==t?(I=!0,Y(p,m)):p;for(;i<7&&1!=i||1==i&&n.charAt(1)>3;)i=(n=W((p=p.times(e)).d)).charAt(0),c++;for(s=V(p),i>1?(p=new h("0."+n),s++):p=new h(i+"."+n.slice(1)),o=a=p=q(p.minus(C),p.plus(C),d),l=Y(p.times(p),d),r=3;;){if(a=Y(a.times(l),d),W((u=o.plus(q(a,new h(r),d))).d).slice(0,d)===W(o.d).slice(0,d))return o=o.times(2),0!==s&&(o=o.plus(j(h,d+2,m).times(s+""))),o=q(o,new h(c),d),h.precision=m,null==t?(I=!0,Y(o,m)):o;o=u,r+=2}}function Z(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;48===t.charCodeAt(i);)++i;for(r=t.length;48===t.charCodeAt(r-1);)--r;if(t=t.slice(i,r)){if(r-=i,n=n-i-1,e.e=S(n/7),e.d=[],i=(n+1)%7,n<0&&(i+=7),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=7;i<r;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=r;for(;i--;)t+="0";if(e.d.push(+t),I&&(e.e>L||e.e<-L))throw Error(B+n)}else e.s=0,e.e=0,e.d=[0];return e}function Y(e,t,n){var i,r,s,a,o,u,d,l,c=e.d;for(a=1,s=c[0];s>=10;s/=10)a++;if((i=t-a)<0)i+=7,r=t,d=c[l=0];else{if((l=Math.ceil((i+1)/7))>=(s=c.length))return e;for(d=s=c[l],a=1;s>=10;s/=10)a++;r=(i%=7)-7+a}if(void 0!==n&&(o=d/(s=F(10,a-r-1))%10|0,u=t<0||void 0!==c[l+1]||d%s,u=n<4?(o||u)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||u||6==n&&(i>0?r>0?d/F(10,a-r):0:c[l-1])%10&1||n==(e.s<0?8:7))),t<1||!c[0])return u?(s=V(e),c.length=1,t=t-s-1,c[0]=F(10,(7-t%7)%7),e.e=S(-t/7)||0):(c.length=1,c[0]=e.e=e.s=0),e;if(0==i?(c.length=l,s=1,l--):(c.length=l+1,s=F(10,7-i),c[l]=r>0?(d/F(10,a-r)%F(10,r)|0)*s:0),u)for(;;){if(0==l){(c[0]+=s)==P&&(c[0]=1,++e.e);break}if(c[l]+=s,c[l]!=P)break;c[l--]=0,s=1}for(i=c.length;0===c[--i];)c.pop();if(I&&(e.e>L||e.e<-L))throw Error(B+V(e));return e}function X(e,t){var n,i,r,s,a,o,u,d,l,c,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),I?Y(t,f):t;if(u=e.d,c=t.d,i=t.e,d=e.e,u=u.slice(),a=d-i){for((l=a<0)?(n=u,a=-a,o=c.length):(n=c,i=d,o=u.length),a>(r=Math.max(Math.ceil(f/7),o)+2)&&(a=r,n.length=1),n.reverse(),r=a;r--;)n.push(0);n.reverse()}else{for((l=(r=u.length)<(o=c.length))&&(o=r),r=0;r<o;r++)if(u[r]!=c[r]){l=u[r]<c[r];break}a=0}for(l&&(n=u,u=c,c=n,t.s=-t.s),o=u.length,r=c.length-o;r>0;--r)u[o++]=0;for(r=c.length;r>a;){if(u[--r]<c[r]){for(s=r;s&&0===u[--s];)u[s]=P-1;--u[s],u[r]+=P}u[r]-=c[r]}for(;0===u[--o];)u.pop();for(;0===u[0];u.shift())--i;return u[0]?(t.d=u,t.e=i,I?Y(t,f):t):new p(0)}function K(e,t,n){var i,r=V(e),s=W(e.d),a=s.length;return t?(n&&(i=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+J(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+J(-r-1)+s,n&&(i=n-a)>0&&(s+=J(i))):r>=a?(s+=J(r+1-a),n&&(i=n-r-1)>0&&(s=s+"."+J(i))):((i=r+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),n&&(i=n-a)>0&&(r+1===a&&(s+="."),s+=J(i))),e.s<0?"-"+s:s}function Q(e,t){if(e.length>t)return e.length=t,!0}function ee(e){if(!e||"object"!=typeof e)throw Error(O+"Object expected");var t,n,i,r=["precision",1,D,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if(void 0!==(i=e[n=r[t]])){if(!(S(i)===i&&i>=r[t+1]&&i<=r[t+2]))throw Error(N+n+": "+i);this[n]=i}if(void 0!==(i=e[n="LN10"])){if(i!=Math.LN10)throw Error(N+n+": "+i);this[n]=new this(i)}return this}var te=function e(t){var n,i,r;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(N+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Z(t,e.toString())}if("string"!=typeof e)throw Error(N+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!R.test(e))throw Error(N+e);Z(t,e)}if(s.prototype=U,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=ee,void 0===t&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<r.length;)t.hasOwnProperty(i=r[n++])||(t[i]=this[i]);return s.config(t),s}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});C=new te(1);var ne=te,ie=1e6,re=1e6,se="[big.js] ",ae=se+"Invalid ",oe=ae+"decimal places",ue=ae+"rounding mode",de=se+"Division by zero",le={},ce=void 0,pe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function fe(e,t,n,i){var r=e.c,s=e.e+t+1;if(s<r.length){if(1===n)i=r[s]>=5;else if(2===n)i=r[s]>5||5==r[s]&&(i||s<0||r[s+1]!==ce||1&r[s-1]);else if(3===n)i=i||!!r[0];else if(i=!1,0!==n)throw Error(ue);if(s<1)r.length=1,i?(e.e=-t,r[0]=1):r[0]=e.e=0;else{if(r.length=s--,i)for(;++r[s]>9;)r[s]=0,s--||(++e.e,r.unshift(1));for(s=r.length;!r[--s];)r.pop()}}else if(n<0||n>3||n!==~~n)throw Error(ue);return e}function he(e,t,n,i){var r,s,a=e.constructor,o=!e.c[0];if(n!==ce){if(n!==~~n||n<(3==t)||n>ie)throw Error(3==t?ae+"precision":oe);for(n=i-(e=new a(e)).e,e.c.length>++i&&fe(e,n,a.RM),2==t&&(i=e.e+n+1);e.c.length<i;)e.c.push(0)}if(r=e.e,n=(s=e.c.join("")).length,2!=t&&(1==t||3==t&&i<=r||r<=a.NE||r>=a.PE))s=s.charAt(0)+(n>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>n)for(r-=n;r--;)s+="0";else r<n&&(s=s.slice(0,r)+"."+s.slice(r));else n>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&(!o||4==t)?"-"+s:s}le.abs=function(){var e=new this.constructor(this);return e.s=1,e},le.cmp=function(e){var t,n=this,i=n.c,r=(e=new n.constructor(e)).c,s=n.s,a=e.s,o=n.e,u=e.e;if(!i[0]||!r[0])return i[0]?s:r[0]?-a:0;if(s!=a)return s;if(t=s<0,o!=u)return o>u^t?1:-1;for(a=(o=i.length)<(u=r.length)?o:u,s=-1;++s<a;)if(i[s]!=r[s])return i[s]>r[s]^t?1:-1;return o==u?0:o>u^t?1:-1},le.div=function(e){var t=this,n=t.constructor,i=t.c,r=(e=new n(e)).c,s=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>ie)throw Error(oe);if(!r[0])throw Error(de);if(!i[0])return new n(0*s);var o,u,d,l,c,p=r.slice(),f=o=r.length,h=i.length,m=i.slice(0,o),y=m.length,_=e,g=_.c=[],b=0,A=a+(_.e=t.e-e.e)+1;for(_.s=s,s=A<0?0:A,p.unshift(0);y++<o;)m.push(0);do{for(d=0;d<10;d++){if(o!=(y=m.length))l=o>y?1:-1;else for(c=-1,l=0;++c<o;)if(r[c]!=m[c]){l=r[c]>m[c]?1:-1;break}if(!(l<0))break;for(u=y==o?r:p;y;){if(m[--y]<u[y]){for(c=y;c&&!m[--c];)m[c]=9;--m[c],m[y]+=10}m[y]-=u[y]}for(;!m[0];)m.shift()}g[b++]=l?d:++d,m[0]&&l?m[y]=i[f]||0:m=[i[f]]}while((f++<h||m[0]!==ce)&&s--);return g[0]||1==b||(g.shift(),_.e--),b>A&&fe(_,a,n.RM,m[0]!==ce),_},le.eq=function(e){return!this.cmp(e)},le.gt=function(e){return this.cmp(e)>0},le.gte=function(e){return this.cmp(e)>-1},le.lt=function(e){return this.cmp(e)<0},le.lte=function(e){return this.cmp(e)<1},le.minus=le.sub=function(e){var t,n,i,r,s=this,a=s.constructor,o=s.s,u=(e=new a(e)).s;if(o!=u)return e.s=-u,s.plus(e);var d=s.c.slice(),l=s.e,c=e.c,p=e.e;if(!d[0]||!c[0])return c[0]?(e.s=-u,e):new a(d[0]?s:0);if(o=l-p){for((r=o<0)?(o=-o,i=d):(p=l,i=c),i.reverse(),u=o;u--;)i.push(0);i.reverse()}else for(n=((r=d.length<c.length)?d:c).length,o=u=0;u<n;u++)if(d[u]!=c[u]){r=d[u]<c[u];break}if(r&&(i=d,d=c,c=i,e.s=-e.s),(u=(n=c.length)-(t=d.length))>0)for(;u--;)d[t++]=0;for(u=t;n>o;){if(d[--n]<c[n]){for(t=n;t&&!d[--t];)d[t]=9;--d[t],d[n]+=10}d[n]-=c[n]}for(;0===d[--u];)d.pop();for(;0===d[0];)d.shift(),--p;return d[0]||(e.s=1,d=[p=0]),e.c=d,e.e=p,e},le.mod=function(e){var t,n=this,i=n.constructor,r=n.s,s=(e=new i(e)).s;if(!e.c[0])throw Error(de);return n.s=e.s=1,t=1==e.cmp(n),n.s=r,e.s=s,t?new i(n):(r=i.DP,s=i.RM,i.DP=i.RM=0,n=n.div(e),i.DP=r,i.RM=s,this.minus(n.times(e)))},le.plus=le.add=function(e){var t,n=this,i=n.constructor,r=n.s,s=(e=new i(e)).s;if(r!=s)return e.s=-s,n.minus(e);var a=n.e,o=n.c,u=e.e,d=e.c;if(!o[0]||!d[0])return d[0]?e:new i(o[0]?n:0*r);if(o=o.slice(),r=a-u){for(r>0?(u=a,t=d):(r=-r,t=o),t.reverse();r--;)t.push(0);t.reverse()}for(o.length-d.length<0&&(t=d,d=o,o=t),r=d.length,s=0;r;o[r]%=10)s=(o[--r]=o[r]+d[r]+s)/10|0;for(s&&(o.unshift(s),++u),r=o.length;0===o[--r];)o.pop();return e.c=o,e.e=u,e},le.pow=function(e){var t=this,n=new t.constructor(1),i=n,r=e<0;if(e!==~~e||e<-1e6||e>re)throw Error(ae+"exponent");for(r&&(e=-e);1&e&&(i=i.times(t)),e>>=1;)t=t.times(t);return r?n.div(i):i},le.round=function(e,t){var n=this.constructor;if(e===ce)e=0;else if(e!==~~e||e<-ie||e>ie)throw Error(oe);return fe(new n(this),e,t===ce?n.RM:t)},le.sqrt=function(){var e,t,n,i=this,r=i.constructor,s=i.s,a=i.e,o=new r(.5);if(!i.c[0])return new r(i);if(s<0)throw Error(se+"No square root");0===(s=Math.sqrt(i+""))||s===1/0?((t=i.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new r(((s=Math.sqrt(t))==1/0?"1e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+a)):e=new r(s),a=e.e+(r.DP+=4);do{n=e,e=o.times(n.plus(i.div(n)))}while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return fe(e,r.DP-=4,r.RM)},le.times=le.mul=function(e){var t,n=this,i=n.constructor,r=n.c,s=(e=new i(e)).c,a=r.length,o=s.length,u=n.e,d=e.e;if(e.s=n.s==e.s?1:-1,!r[0]||!s[0])return new i(0*e.s);for(e.e=u+d,a<o&&(t=r,r=s,s=t,d=a,a=o,o=d),t=new Array(d=a+o);d--;)t[d]=0;for(u=o;u--;){for(o=0,d=a+u;d>u;)o=t[d]+s[u]*r[d-u-1]+o,t[d--]=o%10,o=o/10|0;t[d]=(t[d]+o)%10}for(o?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},le.toExponential=function(e){return he(this,1,e,e)},le.toFixed=function(e){return he(this,2,e,this.e+e)},le.toPrecision=function(e){return he(this,3,e,e-1)},le.toString=function(){return he(this)},le.valueOf=le.toJSON=function(){return he(this,4)},function e(){function t(n){var i=this;if(!(i instanceof t))return n===ce?e():new t(n);n instanceof t?(i.s=n.s,i.e=n.e,i.c=n.c.slice()):function(e,t){var n,i,r;if(0===t&&1/t<0)t="-0";else if(!pe.test(t+=""))throw Error(ae+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".",""));(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length);for(r=t.length,i=0;i<r&&"0"==t.charAt(i);)++i;if(i==r)e.c=[e.e=0];else{for(;r>0&&"0"==t.charAt(--r););for(e.e=n-i-1,e.c=[],n=0;i<=r;)e.c[n++]=+t.charAt(i++)}}(i,n),i.constructor=t}return t.prototype=le,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}();var me,ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_e={exports:{}};(me=_e).exports&&(me.exports=function(e){return e.prototype.toFormat=function(e,t,n){if(!this.e&&0!==this.e)return this.toString();var i,r,s,a,o,u,d,l,c,p,f,h,m,y,_,g=this.format||{},b=this.constructor.format||{};if(e!=o?"object"==typeof e?(n=e,e=o):t!=o?"object"==typeof t?(n=t,t=o):"object"!=typeof n&&(n={}):n={}:n={},l=(i=this.toFixed(e,t).split("."))[0],c=i[1],u=(d=this.s<0?l.slice(1):l).length,(p=n.decimalSeparator)==o&&(p=g.decimalSeparator)==o&&(p=b.decimalSeparator)==o&&(p="."),(f=n.groupSeparator)==o&&(f=g.groupSeparator)==o&&(f=b.groupSeparator),f&&((h=n.groupSize)==o&&(h=g.groupSize)==o&&(h=b.groupSize)==o&&(h=0),(m=n.secondaryGroupSize)==o&&(m=g.secondaryGroupSize)==o&&(m=b.secondaryGroupSize)==o&&(m=0),m?(r=+m,u-=s=+h):(r=+h,s=+m),r>0&&u>0)){for(a=u%r||r,l=d.substr(0,a);a<u;a+=r)l+=f+d.substr(a,r);s>0&&(l+=f+d.slice(a)),this.s<0&&(l="-"+l)}return c?((y=n.fractionGroupSeparator)==o&&(y=g.fractionGroupSeparator)==o&&(y=b.fractionGroupSeparator),y&&((_=n.fractionGroupSize)==o&&(_=g.fractionGroupSize)==o&&(_=b.fractionGroupSize)==o&&(_=0),(_=+_)&&(c=c.replace(new RegExp("\\d{"+_+"}\\B","g"),"$&"+y))),l+p+c):l},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e});var ge=_e.exports;let be=!1,Ae=!1;const ve={debug:1,default:2,info:2,warning:3,error:4,off:5};let we=ve.default,Me=null;const Ee=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Te,xe;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Te||(Te={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(xe||(xe={}));const Ce="0123456789abcdef";class De{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==ve[n]&&this.throwArgumentError("invalid log level name","logLevel",e),we>ve[n]||console.log.apply(console,t)}debug(...e){this._log(De.levels.DEBUG,e)}info(...e){this._log(De.levels.INFO,e)}warn(...e){this._log(De.levels.WARNING,e)}makeError(e,t,n){if(Ae)return this.makeError("censored error",t,{});t||(t=De.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=Ce[t[e]>>4],n+=Ce[15&t[e]];i.push(e+"=Uint8Array(0x"+n+")")}else i.push(e+"="+JSON.stringify(t))}catch(t){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push(`code=${t}`),i.push(`version=${this.version}`);const r=e;let s="";switch(t){case xe.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case xe.CALL_EXCEPTION:case xe.INSUFFICIENT_FUNDS:case xe.MISSING_NEW:case xe.NONCE_EXPIRED:case xe.REPLACEMENT_UNDERPRICED:case xe.TRANSACTION_REPLACED:case xe.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=r,a.code=t,Object.keys(n).forEach((function(e){a[e]=n[e]})),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,De.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){Ee&&this.throwError("platform missing String.prototype.normalize",De.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ee})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,De.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,De.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,De.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,De.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",De.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",De.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",De.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Me||(Me=new De("logger/5.7.0")),Me}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",De.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),be){if(!e)return;this.globalLogger().throwError("error censorship permanent",De.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ae=!!e,be=!!t}static setLogLevel(e){const t=ve[e.toLowerCase()];null!=t?we=t:De.globalLogger().warn("invalid log level - "+e)}static from(e){return new De(e)}}De.errors=xe,De.levels=Te;const Ie=new De("bytes/5.7.0");function Oe(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Oe(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ne(e){return"number"==typeof e&&e==e&&e%1==0}function Be(e,t){if(t||(t={}),"number"==typeof e){Ie.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Oe(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),Se(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":Ie.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let e=0;e<n.length;e+=2)i.push(parseInt(n.substring(e,e+2),16));return Oe(new Uint8Array(i))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!Ne(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!Ne(n)||n<0||n>=256)return!1}return!0}(e)?Oe(new Uint8Array(e)):Ie.throwArgumentError("invalid arrayify value","value",e)}function Se(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var Fe={exports:{}};!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function r(e,t,n){if(r.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"==typeof e?e.exports=r:t.BN=r,r.BN=r,r.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var i=e.charCodeAt(t);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void n(!1,"Invalid character in "+e)}function o(e,t,n){var i=a(e,n);return n-1>=t&&(i|=a(e,n-1)<<4),i}function u(e,t,i,r){for(var s=0,a=0,o=Math.min(e.length,i),u=t;u<o;u++){var d=e.charCodeAt(u)-48;s*=r,a=d>=49?d-49+10:d>=17?d-17+10:d,n(d>=0&&a<r,"Invalid character"),s+=a}return s}function d(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(r.isBN=function(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor.wordSize===r.wordSize&&Array.isArray(e.words)},r.max=function(e,t){return e.cmp(t)>0?e:t},r.min=function(e,t){return e.cmp(t)<0?e:t},r.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,i):(this._parseBase(e,t,r),"le"===i&&this._initArray(this.toArray(),t,i)))},r.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},r.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,a,o=0;if("be"===i)for(r=e.length-1,s=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);else if("le"===i)for(r=0,s=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);return this._strip()},r.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=o(e,t,i)<<s,this.words[a]|=67108863&r,s>=18?(s-=18,a+=1,this.words[a]|=r>>>26):s+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=o(e,t,i)<<s,this.words[a]|=67108863&r,s>=18?(s-=18,a+=1,this.words[a]|=r>>>26):s+=8;this._strip()},r.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var s=e.length-n,a=s%i,o=Math.min(s,s-a)+n,d=0,l=n;l<o;l+=i)d=u(e,l,l+i,t),this.imuln(r),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==a){var c=1;for(d=u(e,l,e.length,t),l=0;l<a;l++)c*=t;this.imuln(c),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},r.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},r.prototype._move=function(e){d(e,this)},r.prototype.clone=function(){var e=new r(null);return this.copy(e),e},r.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){r.prototype.inspect=l}else r.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],s=0|t.words[0],a=r*s,o=67108863&a,u=a/67108864|0;n.words[0]=o;for(var d=1;d<i;d++){for(var l=u>>>26,c=67108863&u,p=Math.min(d,t.length-1),f=Math.max(0,d-e.length+1);f<=p;f++){var h=d-f|0;l+=(a=(r=0|e.words[h])*(s=0|t.words[f])+c)/67108864|0,c=67108863&a}n.words[d]=0|c,u=0|l}return 0!==u?n.words[d]=0|u:n.length--,n._strip()}r.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var r=0,s=0,a=0;a<this.length;a++){var o=this.words[a],u=(16777215&(o<<r|s)).toString(16);s=o>>>24-r&16777215,(r+=2)>=26&&(r-=26,a--),i=0!==s||a!==this.length-1?c[6-u.length]+u+i:u+i}for(0!==s&&(i=s.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var d=p[e],l=f[e];i="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(e);i=(h=h.idivn(l)).isZero()?m+i:c[d-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},r.prototype.toJSON=function(){return this.toString(16,2)},s&&(r.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),r.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},r.prototype.toArrayLike=function(e,t,i){this._strip();var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,r),a},r.prototype._toArrayLikeLE=function(e,t){for(var n=0,i=0,r=0,s=0;r<this.length;r++){var a=this.words[r]<<s|i;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===s?(n<e.length&&(e[n++]=a>>24&255),i=0,s=0):(i=a>>>24,s+=2)}if(n<e.length)for(e[n++]=i;n<e.length;)e[n++]=0},r.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,i=0,r=0,s=0;r<this.length;r++){var a=this.words[r]<<s|i;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===s?(n>=0&&(e[n--]=a>>24&255),i=0,s=0):(i=a>>>24,s+=2)}if(n>=0)for(e[n--]=i;n>=0;)e[n--]=0},Math.clz32?r.prototype._countBits=function(e){return 32-Math.clz32(e)}:r.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},r.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 8191&t||(n+=13,t>>>=13),127&t||(n+=7,t>>>=7),15&t||(n+=4,t>>>=4),3&t||(n+=2,t>>>=2),1&t||n++,n},r.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},r.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},r.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},r.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},r.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},r.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},r.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},r.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},r.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},r.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},r.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},r.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},r.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},r.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this._strip()},r.prototype.notn=function(e){return this.clone().inotn(e)},r.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this._strip()},r.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,s=0;s<i.length;s++)t=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&t,r=t>>>26;for(;0!==r&&s<n.length;s++)t=(0|n.words[s])+r,this.words[s]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},r.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},r.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var s=0,a=0;a<i.length;a++)s=(t=(0|n.words[a])-(0|i.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<n.length;a++)s=(t=(0|n.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var i,r,s,a=e.words,o=t.words,u=n.words,d=0,l=0|a[0],c=8191&l,p=l>>>13,f=0|a[1],h=8191&f,m=f>>>13,y=0|a[2],_=8191&y,g=y>>>13,b=0|a[3],A=8191&b,v=b>>>13,w=0|a[4],M=8191&w,E=w>>>13,T=0|a[5],x=8191&T,C=T>>>13,D=0|a[6],I=8191&D,O=D>>>13,N=0|a[7],B=8191&N,S=N>>>13,F=0|a[8],R=8191&F,P=F>>>13,k=0|a[9],L=8191&k,U=k>>>13,G=0|o[0],H=8191&G,W=G>>>13,q=0|o[1],z=8191&q,V=q>>>13,j=0|o[2],J=8191&j,$=j>>>13,Z=0|o[3],Y=8191&Z,X=Z>>>13,K=0|o[4],Q=8191&K,ee=K>>>13,te=0|o[5],ne=8191&te,ie=te>>>13,re=0|o[6],se=8191&re,ae=re>>>13,oe=0|o[7],ue=8191&oe,de=oe>>>13,le=0|o[8],ce=8191&le,pe=le>>>13,fe=0|o[9],he=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(d+(i=Math.imul(c,H))|0)+((8191&(r=(r=Math.imul(c,W))+Math.imul(p,H)|0))<<13)|0;d=((s=Math.imul(p,W))+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(h,H),r=(r=Math.imul(h,W))+Math.imul(m,H)|0,s=Math.imul(m,W);var _e=(d+(i=i+Math.imul(c,z)|0)|0)+((8191&(r=(r=r+Math.imul(c,V)|0)+Math.imul(p,z)|0))<<13)|0;d=((s=s+Math.imul(p,V)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(_,H),r=(r=Math.imul(_,W))+Math.imul(g,H)|0,s=Math.imul(g,W),i=i+Math.imul(h,z)|0,r=(r=r+Math.imul(h,V)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,V)|0;var ge=(d+(i=i+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(p,J)|0))<<13)|0;d=((s=s+Math.imul(p,$)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(A,H),r=(r=Math.imul(A,W))+Math.imul(v,H)|0,s=Math.imul(v,W),i=i+Math.imul(_,z)|0,r=(r=r+Math.imul(_,V)|0)+Math.imul(g,z)|0,s=s+Math.imul(g,V)|0,i=i+Math.imul(h,J)|0,r=(r=r+Math.imul(h,$)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,$)|0;var be=(d+(i=i+Math.imul(c,Y)|0)|0)+((8191&(r=(r=r+Math.imul(c,X)|0)+Math.imul(p,Y)|0))<<13)|0;d=((s=s+Math.imul(p,X)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(M,H),r=(r=Math.imul(M,W))+Math.imul(E,H)|0,s=Math.imul(E,W),i=i+Math.imul(A,z)|0,r=(r=r+Math.imul(A,V)|0)+Math.imul(v,z)|0,s=s+Math.imul(v,V)|0,i=i+Math.imul(_,J)|0,r=(r=r+Math.imul(_,$)|0)+Math.imul(g,J)|0,s=s+Math.imul(g,$)|0,i=i+Math.imul(h,Y)|0,r=(r=r+Math.imul(h,X)|0)+Math.imul(m,Y)|0,s=s+Math.imul(m,X)|0;var Ae=(d+(i=i+Math.imul(c,Q)|0)|0)+((8191&(r=(r=r+Math.imul(c,ee)|0)+Math.imul(p,Q)|0))<<13)|0;d=((s=s+Math.imul(p,ee)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(x,H),r=(r=Math.imul(x,W))+Math.imul(C,H)|0,s=Math.imul(C,W),i=i+Math.imul(M,z)|0,r=(r=r+Math.imul(M,V)|0)+Math.imul(E,z)|0,s=s+Math.imul(E,V)|0,i=i+Math.imul(A,J)|0,r=(r=r+Math.imul(A,$)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,$)|0,i=i+Math.imul(_,Y)|0,r=(r=r+Math.imul(_,X)|0)+Math.imul(g,Y)|0,s=s+Math.imul(g,X)|0,i=i+Math.imul(h,Q)|0,r=(r=r+Math.imul(h,ee)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0;var ve=(d+(i=i+Math.imul(c,ne)|0)|0)+((8191&(r=(r=r+Math.imul(c,ie)|0)+Math.imul(p,ne)|0))<<13)|0;d=((s=s+Math.imul(p,ie)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(I,H),r=(r=Math.imul(I,W))+Math.imul(O,H)|0,s=Math.imul(O,W),i=i+Math.imul(x,z)|0,r=(r=r+Math.imul(x,V)|0)+Math.imul(C,z)|0,s=s+Math.imul(C,V)|0,i=i+Math.imul(M,J)|0,r=(r=r+Math.imul(M,$)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,$)|0,i=i+Math.imul(A,Y)|0,r=(r=r+Math.imul(A,X)|0)+Math.imul(v,Y)|0,s=s+Math.imul(v,X)|0,i=i+Math.imul(_,Q)|0,r=(r=r+Math.imul(_,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0,i=i+Math.imul(h,ne)|0,r=(r=r+Math.imul(h,ie)|0)+Math.imul(m,ne)|0,s=s+Math.imul(m,ie)|0;var we=(d+(i=i+Math.imul(c,se)|0)|0)+((8191&(r=(r=r+Math.imul(c,ae)|0)+Math.imul(p,se)|0))<<13)|0;d=((s=s+Math.imul(p,ae)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(B,H),r=(r=Math.imul(B,W))+Math.imul(S,H)|0,s=Math.imul(S,W),i=i+Math.imul(I,z)|0,r=(r=r+Math.imul(I,V)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,V)|0,i=i+Math.imul(x,J)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(C,J)|0,s=s+Math.imul(C,$)|0,i=i+Math.imul(M,Y)|0,r=(r=r+Math.imul(M,X)|0)+Math.imul(E,Y)|0,s=s+Math.imul(E,X)|0,i=i+Math.imul(A,Q)|0,r=(r=r+Math.imul(A,ee)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,ee)|0,i=i+Math.imul(_,ne)|0,r=(r=r+Math.imul(_,ie)|0)+Math.imul(g,ne)|0,s=s+Math.imul(g,ie)|0,i=i+Math.imul(h,se)|0,r=(r=r+Math.imul(h,ae)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,ae)|0;var Me=(d+(i=i+Math.imul(c,ue)|0)|0)+((8191&(r=(r=r+Math.imul(c,de)|0)+Math.imul(p,ue)|0))<<13)|0;d=((s=s+Math.imul(p,de)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(R,H),r=(r=Math.imul(R,W))+Math.imul(P,H)|0,s=Math.imul(P,W),i=i+Math.imul(B,z)|0,r=(r=r+Math.imul(B,V)|0)+Math.imul(S,z)|0,s=s+Math.imul(S,V)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,$)|0,i=i+Math.imul(x,Y)|0,r=(r=r+Math.imul(x,X)|0)+Math.imul(C,Y)|0,s=s+Math.imul(C,X)|0,i=i+Math.imul(M,Q)|0,r=(r=r+Math.imul(M,ee)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,ee)|0,i=i+Math.imul(A,ne)|0,r=(r=r+Math.imul(A,ie)|0)+Math.imul(v,ne)|0,s=s+Math.imul(v,ie)|0,i=i+Math.imul(_,se)|0,r=(r=r+Math.imul(_,ae)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,ae)|0,i=i+Math.imul(h,ue)|0,r=(r=r+Math.imul(h,de)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,de)|0;var Ee=(d+(i=i+Math.imul(c,ce)|0)|0)+((8191&(r=(r=r+Math.imul(c,pe)|0)+Math.imul(p,ce)|0))<<13)|0;d=((s=s+Math.imul(p,pe)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(L,H),r=(r=Math.imul(L,W))+Math.imul(U,H)|0,s=Math.imul(U,W),i=i+Math.imul(R,z)|0,r=(r=r+Math.imul(R,V)|0)+Math.imul(P,z)|0,s=s+Math.imul(P,V)|0,i=i+Math.imul(B,J)|0,r=(r=r+Math.imul(B,$)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,$)|0,i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(O,Y)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(x,Q)|0,r=(r=r+Math.imul(x,ee)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,ee)|0,i=i+Math.imul(M,ne)|0,r=(r=r+Math.imul(M,ie)|0)+Math.imul(E,ne)|0,s=s+Math.imul(E,ie)|0,i=i+Math.imul(A,se)|0,r=(r=r+Math.imul(A,ae)|0)+Math.imul(v,se)|0,s=s+Math.imul(v,ae)|0,i=i+Math.imul(_,ue)|0,r=(r=r+Math.imul(_,de)|0)+Math.imul(g,ue)|0,s=s+Math.imul(g,de)|0,i=i+Math.imul(h,ce)|0,r=(r=r+Math.imul(h,pe)|0)+Math.imul(m,ce)|0,s=s+Math.imul(m,pe)|0;var Te=(d+(i=i+Math.imul(c,he)|0)|0)+((8191&(r=(r=r+Math.imul(c,me)|0)+Math.imul(p,he)|0))<<13)|0;d=((s=s+Math.imul(p,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(L,z),r=(r=Math.imul(L,V))+Math.imul(U,z)|0,s=Math.imul(U,V),i=i+Math.imul(R,J)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(P,J)|0,s=s+Math.imul(P,$)|0,i=i+Math.imul(B,Y)|0,r=(r=r+Math.imul(B,X)|0)+Math.imul(S,Y)|0,s=s+Math.imul(S,X)|0,i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,ee)|0,i=i+Math.imul(x,ne)|0,r=(r=r+Math.imul(x,ie)|0)+Math.imul(C,ne)|0,s=s+Math.imul(C,ie)|0,i=i+Math.imul(M,se)|0,r=(r=r+Math.imul(M,ae)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,ae)|0,i=i+Math.imul(A,ue)|0,r=(r=r+Math.imul(A,de)|0)+Math.imul(v,ue)|0,s=s+Math.imul(v,de)|0,i=i+Math.imul(_,ce)|0,r=(r=r+Math.imul(_,pe)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,pe)|0;var xe=(d+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,me)|0)+Math.imul(m,he)|0))<<13)|0;d=((s=s+Math.imul(m,me)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(L,J),r=(r=Math.imul(L,$))+Math.imul(U,J)|0,s=Math.imul(U,$),i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,X)|0)+Math.imul(P,Y)|0,s=s+Math.imul(P,X)|0,i=i+Math.imul(B,Q)|0,r=(r=r+Math.imul(B,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(O,ne)|0,s=s+Math.imul(O,ie)|0,i=i+Math.imul(x,se)|0,r=(r=r+Math.imul(x,ae)|0)+Math.imul(C,se)|0,s=s+Math.imul(C,ae)|0,i=i+Math.imul(M,ue)|0,r=(r=r+Math.imul(M,de)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,de)|0,i=i+Math.imul(A,ce)|0,r=(r=r+Math.imul(A,pe)|0)+Math.imul(v,ce)|0,s=s+Math.imul(v,pe)|0;var Ce=(d+(i=i+Math.imul(_,he)|0)|0)+((8191&(r=(r=r+Math.imul(_,me)|0)+Math.imul(g,he)|0))<<13)|0;d=((s=s+Math.imul(g,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(L,Y),r=(r=Math.imul(L,X))+Math.imul(U,Y)|0,s=Math.imul(U,X),i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,ee)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,ee)|0,i=i+Math.imul(B,ne)|0,r=(r=r+Math.imul(B,ie)|0)+Math.imul(S,ne)|0,s=s+Math.imul(S,ie)|0,i=i+Math.imul(I,se)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,ae)|0,i=i+Math.imul(x,ue)|0,r=(r=r+Math.imul(x,de)|0)+Math.imul(C,ue)|0,s=s+Math.imul(C,de)|0,i=i+Math.imul(M,ce)|0,r=(r=r+Math.imul(M,pe)|0)+Math.imul(E,ce)|0,s=s+Math.imul(E,pe)|0;var De=(d+(i=i+Math.imul(A,he)|0)|0)+((8191&(r=(r=r+Math.imul(A,me)|0)+Math.imul(v,he)|0))<<13)|0;d=((s=s+Math.imul(v,me)|0)+(r>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(L,Q),r=(r=Math.imul(L,ee))+Math.imul(U,Q)|0,s=Math.imul(U,ee),i=i+Math.imul(R,ne)|0,r=(r=r+Math.imul(R,ie)|0)+Math.imul(P,ne)|0,s=s+Math.imul(P,ie)|0,i=i+Math.imul(B,se)|0,r=(r=r+Math.imul(B,ae)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,ae)|0,i=i+Math.imul(I,ue)|0,r=(r=r+Math.imul(I,de)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,de)|0,i=i+Math.imul(x,ce)|0,r=(r=r+Math.imul(x,pe)|0)+Math.imul(C,ce)|0,s=s+Math.imul(C,pe)|0;var Ie=(d+(i=i+Math.imul(M,he)|0)|0)+((8191&(r=(r=r+Math.imul(M,me)|0)+Math.imul(E,he)|0))<<13)|0;d=((s=s+Math.imul(E,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(L,ne),r=(r=Math.imul(L,ie))+Math.imul(U,ne)|0,s=Math.imul(U,ie),i=i+Math.imul(R,se)|0,r=(r=r+Math.imul(R,ae)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,ae)|0,i=i+Math.imul(B,ue)|0,r=(r=r+Math.imul(B,de)|0)+Math.imul(S,ue)|0,s=s+Math.imul(S,de)|0,i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,pe)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,pe)|0;var Oe=(d+(i=i+Math.imul(x,he)|0)|0)+((8191&(r=(r=r+Math.imul(x,me)|0)+Math.imul(C,he)|0))<<13)|0;d=((s=s+Math.imul(C,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(L,se),r=(r=Math.imul(L,ae))+Math.imul(U,se)|0,s=Math.imul(U,ae),i=i+Math.imul(R,ue)|0,r=(r=r+Math.imul(R,de)|0)+Math.imul(P,ue)|0,s=s+Math.imul(P,de)|0,i=i+Math.imul(B,ce)|0,r=(r=r+Math.imul(B,pe)|0)+Math.imul(S,ce)|0,s=s+Math.imul(S,pe)|0;var Ne=(d+(i=i+Math.imul(I,he)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(O,he)|0))<<13)|0;d=((s=s+Math.imul(O,me)|0)+(r>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(L,ue),r=(r=Math.imul(L,de))+Math.imul(U,ue)|0,s=Math.imul(U,de),i=i+Math.imul(R,ce)|0,r=(r=r+Math.imul(R,pe)|0)+Math.imul(P,ce)|0,s=s+Math.imul(P,pe)|0;var Be=(d+(i=i+Math.imul(B,he)|0)|0)+((8191&(r=(r=r+Math.imul(B,me)|0)+Math.imul(S,he)|0))<<13)|0;d=((s=s+Math.imul(S,me)|0)+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(L,ce),r=(r=Math.imul(L,pe))+Math.imul(U,ce)|0,s=Math.imul(U,pe);var Se=(d+(i=i+Math.imul(R,he)|0)|0)+((8191&(r=(r=r+Math.imul(R,me)|0)+Math.imul(P,he)|0))<<13)|0;d=((s=s+Math.imul(P,me)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863;var Fe=(d+(i=Math.imul(L,he))|0)+((8191&(r=(r=Math.imul(L,me))+Math.imul(U,he)|0))<<13)|0;return d=((s=Math.imul(U,me))+(r>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,u[0]=ye,u[1]=_e,u[2]=ge,u[3]=be,u[4]=Ae,u[5]=ve,u[6]=we,u[7]=Me,u[8]=Ee,u[9]=Te,u[10]=xe,u[11]=Ce,u[12]=De,u[13]=Ie,u[14]=Oe,u[15]=Ne,u[16]=Be,u[17]=Se,u[18]=Fe,0!==d&&(u[19]=d,n.length++),n};function y(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var a=r;r=0;for(var o=67108863&i,u=Math.min(s,t.length-1),d=Math.max(0,s-e.length+1);d<=u;d++){var l=s-d,c=(0|e.words[l])*(0|t.words[d]),p=67108863&c;o=67108863&(p=p+o|0),r+=(a=(a=a+(c/67108864|0)|0)+(p>>>26)|0)>>>26,a&=67108863}n.words[s]=o,i=a,a=r}return 0!==i?n.words[s]=i:n.length--,n._strip()}function _(e,t,n){return y(e,t,n)}Math.imul||(m=h),r.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?h(this,e,t):n<1024?y(this,e,t):_(this,e,t)},r.prototype.mul=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},r.prototype.mulf=function(e){var t=new r(null);return t.words=new Array(this.length+e.length),_(this,e,t)},r.prototype.imul=function(e){return this.clone().mulTo(e,this)},r.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var i=0,r=0;r<this.length;r++){var s=(0|this.words[r])*e,a=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=a>>>26,this.words[r]=67108863&a}return 0!==i&&(this.words[r]=i,this.length++),t?this.ineg():this},r.prototype.muln=function(e){return this.clone().imuln(e)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=e.words[i]>>>r&1}return t}(e);if(0===t.length)return new r(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var s=n.sqr();i<t.length;i++,s=s.sqr())0!==t[i]&&(n=n.mul(s));return n},r.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,u=(0|this.words[t])-o<<i;this.words[t]=u|a,a=o>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this._strip()},r.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},r.prototype.iushrn=function(e,t,i){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var s=e%26,a=Math.min((e-s)/26,this.length),o=67108863^67108863>>>s<<s,u=i;if(r-=a,r=Math.max(0,r),u){for(var d=0;d<a;d++)u.words[d]=this.words[d];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,d=0;d<this.length;d++)this.words[d]=this.words[d+a];else this.words[0]=0,this.length=1;var l=0;for(d=this.length-1;d>=0&&(0!==l||d>=r);d--){var c=0|this.words[d];this.words[d]=l<<26-s|c>>>s,l=c&o}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},r.prototype.shln=function(e){return this.clone().ishln(e)},r.prototype.ushln=function(e){return this.clone().iushln(e)},r.prototype.shrn=function(e){return this.clone().ishrn(e)},r.prototype.ushrn=function(e){return this.clone().iushrn(e)},r.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;return!(this.length<=i||!(this.words[i]&r))},r.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this._strip()},r.prototype.maskn=function(e){return this.clone().imaskn(e)},r.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},r.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},r.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},r.prototype.addn=function(e){return this.clone().iaddn(e)},r.prototype.subn=function(e){return this.clone().isubn(e)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(e,t,i){var r,s,a=e.length+i;this._expand(a);var o=0;for(r=0;r<e.length;r++){s=(0|this.words[r+i])+o;var u=(0|e.words[r])*t;o=((s-=67108863&u)>>26)-(u/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)o=(s=(0|this.words[r+i])+o)>>26,this.words[r+i]=67108863&s;if(0===o)return this._strip();for(n(-1===o),o=0,r=0;r<this.length;r++)o=(s=-(0|this.words[r])+o)>>26,this.words[r]=67108863&s;return this.negative=1,this._strip()},r.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),s=e,a=0|s.words[s.length-1];0!=(n=26-this._countBits(a))&&(s=s.ushln(n),i.iushln(n),a=0|s.words[s.length-1]);var o,u=i.length-s.length;if("mod"!==t){(o=new r(null)).length=u+1,o.words=new Array(o.length);for(var d=0;d<o.length;d++)o.words[d]=0}var l=i.clone()._ishlnsubmul(s,1,u);0===l.negative&&(i=l,o&&(o.words[u]=1));for(var c=u-1;c>=0;c--){var p=67108864*(0|i.words[s.length+c])+(0|i.words[s.length+c-1]);for(p=Math.min(p/a|0,67108863),i._ishlnsubmul(s,p,c);0!==i.negative;)p--,i.negative=0,i._ishlnsubmul(s,1,c),i.isZero()||(i.negative^=1);o&&(o.words[c]=p)}return o&&o._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:o||null,mod:i}},r.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(a=o.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:s,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):this.negative&e.negative?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new r(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new r(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new r(this.modrn(e.words[0]))}:this._wordDiv(e,t);var s,a,o},r.prototype.div=function(e){return this.divmod(e,"div",!1).div},r.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},r.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},r.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},r.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var i=(1<<26)%e,r=0,s=this.length-1;s>=0;s--)r=(i*r+(0|this.words[s]))%e;return t?-r:r},r.prototype.modn=function(e){return this.modrn(e)},r.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var i=0,r=this.length-1;r>=0;r--){var s=(0|this.words[r])+67108864*i;this.words[r]=s/e|0,i=s%e}return this._strip(),t?this.ineg():this},r.prototype.divn=function(e){return this.clone().idivn(e)},r.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new r(1),a=new r(0),o=new r(0),u=new r(1),d=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++d;for(var l=i.clone(),c=t.clone();!t.isZero();){for(var p=0,f=1;!(t.words[0]&f)&&p<26;++p,f<<=1);if(p>0)for(t.iushrn(p);p-- >0;)(s.isOdd()||a.isOdd())&&(s.iadd(l),a.isub(c)),s.iushrn(1),a.iushrn(1);for(var h=0,m=1;!(i.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(i.iushrn(h);h-- >0;)(o.isOdd()||u.isOdd())&&(o.iadd(l),u.isub(c)),o.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),a.isub(u)):(i.isub(t),o.isub(s),u.isub(a))}return{a:o,b:u,gcd:i.iushln(d)}},r.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,a=new r(1),o=new r(0),u=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var d=0,l=1;!(t.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,p=1;!(i.words[0]&p)&&c<26;++c,p<<=1);if(c>0)for(i.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(o)):(i.isub(t),o.isub(a))}return(s=0===t.cmpn(1)?a:o).cmpn(0)<0&&s.iadd(e),s},r.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var s=t;t=n,n=s}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},r.prototype.invm=function(e){return this.egcd(e).a.umod(e)},r.prototype.isEven=function(){return!(1&this.words[0])},r.prototype.isOdd=function(){return!(1&~this.words[0])},r.prototype.andln=function(e){return this.words[0]&e},r.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,a=i;0!==s&&a<this.length;a++){var o=0|this.words[a];s=(o+=s)>>>26,o&=67108863,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},r.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},r.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},r.prototype.gtn=function(e){return 1===this.cmpn(e)},r.prototype.gt=function(e){return 1===this.cmp(e)},r.prototype.gten=function(e){return this.cmpn(e)>=0},r.prototype.gte=function(e){return this.cmp(e)>=0},r.prototype.ltn=function(e){return-1===this.cmpn(e)},r.prototype.lt=function(e){return-1===this.cmp(e)},r.prototype.lten=function(e){return this.cmpn(e)<=0},r.prototype.lte=function(e){return this.cmp(e)<=0},r.prototype.eqn=function(e){return 0===this.cmpn(e)},r.prototype.eq=function(e){return 0===this.cmp(e)},r.red=function(e){return new E(e)},r.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(e){return this.red=e,this},r.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},r.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},r.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},r.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},r.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},r.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},r.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},r.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=r._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new r(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(A,b),A.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|s>>>22,s=a}s>>>=22,e.words[r-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},A.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,b),i(w,b),i(M,b),M.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},r._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new A;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return g[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(d(e,e.umod(this.m)._forceRed(this)),e)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new r(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),a=0;!s.isZero()&&0===s.andln(1);)a++,s.iushrn(1);n(!s.isZero());var o=new r(1).toRed(this),u=o.redNeg(),d=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new r(2*l*l).toRed(this);0!==this.pow(l,d).cmp(u);)l.redIAdd(u);for(var c=this.pow(l,s),p=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),h=a;0!==f.cmp(o);){for(var m=f,y=0;0!==m.cmp(o);y++)m=m.redSqr();n(y<h);var _=this.pow(c,new r(1).iushln(h-y-1));p=p.redMul(_),c=_.redSqr(),f=f.redMul(c),h=y}return p},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var s=n[0],a=0,o=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var d=t.words[i],l=u-1;l>=0;l--){var c=d>>l&1;s!==n[0]&&(s=this.sqr(s)),0!==c||0!==a?(a<<=1,a|=c,(4==++o||0===i&&0===l)&&(s=this.mul(s,n[a]),o=0,a=0)):o=0}u=26}return s},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},r.mont=function(e){return new T(e)},i(T,E),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new r(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=n.isub(i).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(Fe,ye);var Re=Fe.exports.BN;new De("bignumber/5.7.0");var Pe={exports:{}};
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */!function(e){!function(){var t="input is invalid type",n="object"==typeof window,i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var r=!n&&"object"==typeof self;!i.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?i=ye:r&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&e.exports,a=!i.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,o="0123456789abcdef".split(""),u=[4,1024,262144,67108864],d=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],p=[128,256],f=["hex","buffer","arrayBuffer","array","digest"],h={128:168,256:136};!i.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!a||!i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var m=function(e,t,n){return function(i){return new O(e,t,e).update(i)[n]()}},y=function(e,t,n){return function(i,r){return new O(e,t,r).update(i)[n]()}},_=function(e,t,n){return function(t,i,r,s){return w["cshake"+e].update(t,i,r,s)[n]()}},g=function(e,t,n){return function(t,i,r,s){return w["kmac"+e].update(t,i,r,s)[n]()}},b=function(e,t,n,i){for(var r=0;r<f.length;++r){var s=f[r];e[s]=t(n,i,s)}return e},A=function(e,t){var n=m(e,t,"hex");return n.create=function(){return new O(e,t,e)},n.update=function(e){return n.create().update(e)},b(n,m,e,t)},v=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:A},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:A},{name:"shake",padding:[31,7936,2031616,520093696],bits:p,createMethod:function(e,t){var n=y(e,t,"hex");return n.create=function(n){return new O(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},b(n,y,e,t)}},{name:"cshake",padding:u,bits:p,createMethod:function(e,t){var n=h[e],i=_(e,0,"hex");return i.create=function(i,r,s){return r||s?new O(e,t,i).bytepad([r,s],n):w["shake"+e].create(i)},i.update=function(e,t,n,r){return i.create(t,n,r).update(e)},b(i,_,e,t)}},{name:"kmac",padding:u,bits:p,createMethod:function(e,t){var n=h[e],i=g(e,0,"hex");return i.create=function(i,r,s){return new N(e,t,r).bytepad(["KMAC",s],n).bytepad([i],n)},i.update=function(e,t,n,r){return i.create(e,n,r).update(t)},b(i,g,e,t)}}],w={},M=[],E=0;E<v.length;++E)for(var T=v[E],x=T.bits,C=0;C<x.length;++C){var D=T.name+"_"+x[C];if(M.push(D),w[D]=T.createMethod(x[C],T.padding),"sha3"!==T.name){var I=T.name+x[C];M.push(I),w[I]=w[D]}}function O(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var i=0;i<50;++i)this.s[i]=0}function N(e,t,n){O.call(this,e,t,n)}O.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var n,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(t);if(null===e)throw new Error(t);if(a&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||a&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}for(var r,s,o=this.blocks,u=this.byteCount,l=e.length,c=this.blockCount,p=0,f=this.s;p<l;){if(this.reset)for(this.reset=!1,o[0]=this.block,r=1;r<c+1;++r)o[r]=0;if(n)for(r=this.start;p<l&&r<u;++p)o[r>>2]|=e[p]<<d[3&r++];else for(r=this.start;p<l&&r<u;++p)(s=e.charCodeAt(p))<128?o[r>>2]|=s<<d[3&r++]:s<2048?(o[r>>2]|=(192|s>>6)<<d[3&r++],o[r>>2]|=(128|63&s)<<d[3&r++]):s<55296||s>=57344?(o[r>>2]|=(224|s>>12)<<d[3&r++],o[r>>2]|=(128|s>>6&63)<<d[3&r++],o[r>>2]|=(128|63&s)<<d[3&r++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++p)),o[r>>2]|=(240|s>>18)<<d[3&r++],o[r>>2]|=(128|s>>12&63)<<d[3&r++],o[r>>2]|=(128|s>>6&63)<<d[3&r++],o[r>>2]|=(128|63&s)<<d[3&r++]);if(this.lastByteIndex=r,r>=u){for(this.start=r-u,this.block=o[c],r=0;r<c;++r)f[r]^=o[r];B(f),this.reset=!0}else this.start=r}return this},O.prototype.encode=function(e,t){var n=255&e,i=1,r=[n];for(n=255&(e>>=8);n>0;)r.unshift(n),n=255&(e>>=8),++i;return t?r.push(i):r.unshift(i),this.update(r),r.length},O.prototype.encodeString=function(e){var n,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(t);if(null===e)throw new Error(t);if(a&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||a&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}var r=0,s=e.length;if(n)r=s;else for(var o=0;o<e.length;++o){var u=e.charCodeAt(o);u<128?r+=1:u<2048?r+=2:u<55296||u>=57344?r+=3:(u=65536+((1023&u)<<10|1023&e.charCodeAt(++o)),r+=4)}return r+=this.encode(8*r),this.update(e),r},O.prototype.bytepad=function(e,t){for(var n=this.encode(t),i=0;i<e.length;++i)n+=this.encodeString(e[i]);var r=t-n%t,s=[];return s.length=r,this.update(s),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,i=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)i[t]^=e[t];B(i)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,i=this.outputBlocks,r=this.extraBytes,s=0,a=0,u="";a<i;){for(s=0;s<t&&a<i;++s,++a)e=n[s],u+=o[e>>4&15]+o[15&e]+o[e>>12&15]+o[e>>8&15]+o[e>>20&15]+o[e>>16&15]+o[e>>28&15]+o[e>>24&15];a%t==0&&(B(n),s=0)}return r&&(e=n[s],u+=o[e>>4&15]+o[15&e],r>1&&(u+=o[e>>12&15]+o[e>>8&15]),r>2&&(u+=o[e>>20&15]+o[e>>16&15])),u},O.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,i=this.outputBlocks,r=this.extraBytes,s=0,a=0,o=this.outputBits>>3;e=r?new ArrayBuffer(i+1<<2):new ArrayBuffer(o);for(var u=new Uint32Array(e);a<i;){for(s=0;s<t&&a<i;++s,++a)u[a]=n[s];a%t==0&&B(n)}return r&&(u[s]=n[s],e=e.slice(0,o)),e},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,i=this.s,r=this.outputBlocks,s=this.extraBytes,a=0,o=0,u=[];o<r;){for(a=0;a<n&&o<r;++a,++o)e=o<<2,t=i[a],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;o%n==0&&B(i)}return s&&(e=o<<2,t=i[a],u[e]=255&t,s>1&&(u[e+1]=t>>8&255),s>2&&(u[e+2]=t>>16&255)),u},N.prototype=new O,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var B=function(e){var t,n,i,r,s,a,o,u,d,c,p,f,h,m,y,_,g,b,A,v,w,M,E,T,x,C,D,I,O,N,B,S,F,R,P,k,L,U,G,H,W,q,z,V,j,J,$,Z,Y,X,K,Q,ee,te,ne,ie,re,se,ae,oe,ue,de,le;for(i=0;i<48;i+=2)r=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],p=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|o>>>31),n=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|a>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=r^(u<<1|d>>>31),n=s^(d<<1|u>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=a^(c<<1|p>>>31),n=o^(p<<1|c>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=u^(f<<1|h>>>31),n=d^(h<<1|f>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=c^(r<<1|s>>>31),n=p^(s<<1|r>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],y=e[1],J=e[11]<<4|e[10]>>>28,$=e[10]<<4|e[11]>>>28,I=e[20]<<3|e[21]>>>29,O=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,z=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,P=e[3]<<1|e[2]>>>31,_=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,k=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,A=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,K=e[35]<<15|e[34]>>>17,S=e[45]<<29|e[44]>>>3,F=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,x=e[7]<<28|e[6]>>>4,ie=e[17]<<23|e[16]>>>9,re=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,G=e[27]<<25|e[26]>>>7,v=e[36]<<21|e[37]>>>11,w=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,V=e[8]<<27|e[9]>>>5,j=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,D=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,H=e[38]<<8|e[39]>>>24,W=e[39]<<8|e[38]>>>24,M=e[48]<<14|e[49]>>>18,E=e[49]<<14|e[48]>>>18,e[0]=m^~_&b,e[1]=y^~g&A,e[10]=T^~C&I,e[11]=x^~D&O,e[20]=R^~k&U,e[21]=P^~L&G,e[30]=V^~J&Z,e[31]=j^~$&Y,e[40]=te^~ie&se,e[41]=ne^~re&ae,e[2]=_^~b&v,e[3]=g^~A&w,e[12]=C^~I&N,e[13]=D^~O&B,e[22]=k^~U&H,e[23]=L^~G&W,e[32]=J^~Z&X,e[33]=$^~Y&K,e[42]=ie^~se&oe,e[43]=re^~ae&ue,e[4]=b^~v&M,e[5]=A^~w&E,e[14]=I^~N&S,e[15]=O^~B&F,e[24]=U^~H&q,e[25]=G^~W&z,e[34]=Z^~X&Q,e[35]=Y^~K&ee,e[44]=se^~oe&de,e[45]=ae^~ue&le,e[6]=v^~M&m,e[7]=w^~E&y,e[16]=N^~S&T,e[17]=B^~F&x,e[26]=H^~q&R,e[27]=W^~z&P,e[36]=X^~Q&V,e[37]=K^~ee&j,e[46]=oe^~de&te,e[47]=ue^~le&ne,e[8]=M^~m&_,e[9]=E^~y&g,e[18]=S^~T&C,e[19]=F^~x&D,e[28]=q^~R&k,e[29]=z^~P&L,e[38]=Q^~V&J,e[39]=ee^~j&$,e[48]=de^~te&ie,e[49]=le^~ne&re,e[0]^=l[i],e[1]^=l[i+1]};if(s)e.exports=w;else for(E=0;E<M.length;++E)i[M[E]]=w[M[E]]}()}(Pe);var ke=Pe.exports;const Le=new De("address/5.7.0");function Ue(e){Se(e,20)||Le.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const i=Be((r=n,"0x"+ke.keccak_256(Be(r))));var r;for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&i[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Ge={};for(let e=0;e<10;e++)Ge[String(e)]=String(e);for(let e=0;e<26;e++)Ge[String.fromCharCode(65+e)]=String(10+e);const He=Math.floor((We=9007199254740991,Math.log10?Math.log10(We):Math.log(We)/Math.LN10));var We,qe,ze,Ve;function je(e){let t=null;if("string"!=typeof e&&Le.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Ue(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Le.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Ge[e])).join("");for(;t.length>=He;){let e=t.substring(0,He);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}(e)&&Le.throwArgumentError("bad icap checksum","address",e),n=e.substring(4),t=new Re(n,36).toString(16);t.length<40;)t="0"+t;t=Ue("0x"+t)}else Le.throwArgumentError("invalid address","address",e);var n;return t}function Je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,s=void 0,"symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"))?s:String(s)),i)}var r,s}function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$e.apply(this,arguments)}function Ze(e,t){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ze(e,t)}!function(e){e[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.SEPOLIA=11155111]="SEPOLIA",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.GNOSIS=100]="GNOSIS",e[e.MOONBEAM=1284]="MOONBEAM",e[e.BNB=56]="BNB",e[e.AVALANCHE=43114]="AVALANCHE"}(qe||(qe={})),qe.MAINNET,qe.OPTIMISM,qe.OPTIMISM_GOERLI,qe.ARBITRUM_ONE,qe.ARBITRUM_GOERLI,qe.POLYGON,qe.POLYGON_MUMBAI,qe.GOERLI,qe.SEPOLIA,qe.CELO_ALFAJORES,qe.CELO,qe.BNB,qe.AVALANCHE,function(e){e.ETHER="ETH",e.MATIC="MATIC",e.CELO="CELO",e.GNOSIS="XDAI",e.MOONBEAM="GLMR",e.BNB="BNB",e.AVAX="AVAX"}(ze||(ze={}));qe.MAINNET,qe.GOERLI;qe.OPTIMISM,qe.ARBITRUM_ONE,qe.POLYGON,qe.POLYGON_MUMBAI,qe.SEPOLIA;var Ye,Xe,Ke,Qe,et={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},tt=$e({},et,{v1MixedRouteQuoterAddress:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E"}),nt=$e({},et,{v1MixedRouteQuoterAddress:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),it=et,rt=$e({},et,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573"}),st=et,at={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D"};(Ve={})[qe.MAINNET]=tt,Ve[qe.OPTIMISM]=it,Ve[qe.ARBITRUM_ONE]=rt,Ve[qe.POLYGON]=st,Ve[qe.POLYGON_MUMBAI]=st,Ve[qe.GOERLI]=nt,Ve[qe.CELO]=at,Ve[qe.CELO_ALFAJORES]=at,Ve[qe.BNB]={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2"},Ve[qe.OPTIMISM_GOERLI]={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},Ve[qe.ARBITRUM_GOERLI]={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},Ve[qe.SEPOLIA]={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07"},Ve[qe.AVALANCHE]={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE"},{}[qe.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",{}[qe.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",{}[qe.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",{}[qe.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",{}[qe.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",function(e){e[e.EXACT_INPUT=0]="EXACT_INPUT",e[e.EXACT_OUTPUT=1]="EXACT_OUTPUT"}(Ye||(Ye={})),function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(Xe||(Xe={}));var ot=ge(ne);(Ke={})[Xe.ROUND_DOWN]=ot.ROUND_DOWN,Ke[Xe.ROUND_HALF_UP]=ot.ROUND_HALF_UP,Ke[Xe.ROUND_UP]=ot.ROUND_UP,(Qe={})[Xe.ROUND_DOWN]=0,Qe[Xe.ROUND_HALF_UP]=1,Qe[Xe.ROUND_UP]=3;var ut=/^0x[0-9a-fA-F]{40}$/;var dt,lt=function(e){var t,n;function i(t,n,i,r,s,a){var o;return(o=e.call(this,t,i,r,s)||this).isNative=!1,o.isToken=!0,o.address=a?function(e){if(ut.test(e))return e;throw new Error(e+" is not a valid address.")}(n):function(e){try{return je(e)}catch(t){throw new Error(e+" is not a valid address.")}}(n),o}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ze(t,n);var r,s,a,o=i.prototype;return o.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},o.sortsBefore=function(e){return this.chainId!==e.chainId&&("production"!==process.env.NODE_ENV?x(!1,"CHAIN_IDS"):x(!1)),this.address.toLowerCase()===e.address.toLowerCase()&&("production"!==process.env.NODE_ENV?x(!1,"ADDRESSES"):x(!1)),this.address.toLowerCase()<e.address.toLowerCase()},r=i,(s=[{key:"wrapped",get:function(){return this}}])&&Je(r.prototype,s),a&&Je(r,a),Object.defineProperty(r,"prototype",{writable:!1}),i}((function(e,t,n,i){Number.isSafeInteger(e)||("production"!==process.env.NODE_ENV?x(!1,"CHAIN_ID"):x(!1)),t>=0&&t<255&&Number.isInteger(t)||("production"!==process.env.NODE_ENV?x(!1,"DECIMALS"):x(!1)),this.chainId=e,this.decimals=t,this.symbol=n,this.name=i}));(dt={})[1]=new lt(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),dt[3]=new lt(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),dt[4]=new lt(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),dt[5]=new lt(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),dt[42]=new lt(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),dt[10]=new lt(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),dt[69]=new lt(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),dt[42161]=new lt(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),dt[421611]=new lt(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether");const ct="0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",pt=new lt(qe.MAINNET,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),ft=new lt(qe.MAINNET,"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",6,"USDC","USD//C"),ht=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function transfer(address to, uint amount) returns (bool)","function allowance(address owner, address spender) returns (uint256)","function approve(address _spender, uint256 _value) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"],mt=["function deposit() payable","function withdraw(uint wad) public"];function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yt.apply(this,arguments)}var _t,gt,bt,At,vt;!function(e){e[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.SEPOLIA=11155111]="SEPOLIA",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.OPTIMISM_SEPOLIA=11155420]="OPTIMISM_SEPOLIA",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.ARBITRUM_SEPOLIA=421614]="ARBITRUM_SEPOLIA",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.GNOSIS=100]="GNOSIS",e[e.MOONBEAM=1284]="MOONBEAM",e[e.BNB=56]="BNB",e[e.AVALANCHE=43114]="AVALANCHE",e[e.BASE_GOERLI=84531]="BASE_GOERLI",e[e.BASE_SEPOLIA=84532]="BASE_SEPOLIA",e[e.BASE=8453]="BASE",e[e.ZORA=7777777]="ZORA",e[e.ZORA_SEPOLIA=999999999]="ZORA_SEPOLIA",e[e.ROOTSTOCK=30]="ROOTSTOCK",e[e.BLAST=81457]="BLAST",e[e.ZKSYNC=324]="ZKSYNC",e[e.WORLDCHAIN=480]="WORLDCHAIN",e[e.UNICHAIN_SEPOLIA=1301]="UNICHAIN_SEPOLIA",e[e.UNICHAIN=130]="UNICHAIN",e[e.MONAD_TESTNET=10143]="MONAD_TESTNET",e[e.SONEIUM=1868]="SONEIUM"}(_t||(_t={})),_t.MAINNET,_t.OPTIMISM,_t.OPTIMISM_GOERLI,_t.OPTIMISM_SEPOLIA,_t.ARBITRUM_ONE,_t.ARBITRUM_GOERLI,_t.ARBITRUM_SEPOLIA,_t.POLYGON,_t.POLYGON_MUMBAI,_t.GOERLI,_t.SEPOLIA,_t.CELO_ALFAJORES,_t.CELO,_t.BNB,_t.AVALANCHE,_t.BASE,_t.BASE_GOERLI,_t.BASE_SEPOLIA,_t.ZORA,_t.ZORA_SEPOLIA,_t.ROOTSTOCK,_t.BLAST,_t.ZKSYNC,_t.WORLDCHAIN,_t.UNICHAIN_SEPOLIA,_t.UNICHAIN,_t.MONAD_TESTNET,_t.SONEIUM,function(e){e.ETHER="ETH",e.MATIC="MATIC",e.CELO="CELO",e.GNOSIS="XDAI",e.MOONBEAM="GLMR",e.BNB="BNB",e.AVAX="AVAX",e.ROOTSTOCK="RBTC"}(gt||(gt={}));_t.MAINNET,_t.GOERLI,_t.SEPOLIA;_t.OPTIMISM,_t.ARBITRUM_ONE,_t.POLYGON,_t.POLYGON_MUMBAI,_t.SEPOLIA,(bt={})[_t.MAINNET]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",bt[_t.GOERLI]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",bt[_t.SEPOLIA]="0xF62c03E08ada871A0bEb309762E260a7a6a880E6",bt[_t.OPTIMISM]="0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf",bt[_t.ARBITRUM_ONE]="0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9",bt[_t.AVALANCHE]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",bt[_t.BASE_SEPOLIA]="0x7Ae58f10f7849cA6F5fB71b7f45CB416c9204b1e",bt[_t.BASE]="0x8909dc15e40173ff4699343b6eb8132c65e18ec6",bt[_t.BNB]="0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",bt[_t.POLYGON]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",bt[_t.CELO]="0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f",bt[_t.BLAST]="0x5C346464d33F90bABaf70dB6388507CC889C1070",bt[_t.WORLDCHAIN]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",bt[_t.UNICHAIN_SEPOLIA]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",bt[_t.UNICHAIN]="0x1f98400000000000000000000000000000000002",bt[_t.MONAD_TESTNET]="0x733e88f248b742db6c14c0b1713af5ad7fdd59d0",bt[_t.SONEIUM]="0x97febbc2adbd5644ba22736e962564b23f5828ce",(At={})[_t.MAINNET]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",At[_t.GOERLI]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",At[_t.SEPOLIA]="0xeE567Fe1712Faf6149d80dA1E6934E354124CfE3",At[_t.ARBITRUM_ONE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",At[_t.OPTIMISM]="0x4a7b5da61326a6379179b40d00f57e5bbdc962c2",At[_t.BASE_SEPOLIA]="0x1689E7B1F10000AE47eBfE339a4f69dECd19F602",At[_t.BASE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",At[_t.AVALANCHE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",At[_t.BNB]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",At[_t.POLYGON]="0xedf6066a2b290c185783862c7f4776a2c8077ad1",At[_t.BLAST]="0xBB66Eb1c5e875933D44DAe661dbD80e5D9B03035",At[_t.WORLDCHAIN]="0x541aB7c31A119441eF3575F6973277DE0eF460bd",At[_t.UNICHAIN_SEPOLIA]="0x920b806E40A00E02E7D2b94fFc89860fDaEd3640",At[_t.UNICHAIN]="0x284f11109359a7e1306c3e447ef14d38400063ff",At[_t.MONAD_TESTNET]="0xfb8e1c3b833f9e67a71c859a132cf783b645e436",At[_t.SONEIUM]="0x273f68c234fa55b550b40e563c4a488e0d334320";var wt,Mt,Et,Tt,xt={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},Ct=yt({},xt,{mixedRouteQuoterV1Address:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",v4PoolManagerAddress:"0x000000000004444c5dc75cB358380D2e3dE08A90",v4PositionManagerAddress:"0xbd216513d74c8cf14cf4747e6aaa6420ff64ee9e",v4StateView:"0x7ffe42c4a5deea5b0fec41c94c136cf115597227",v4QuoterAddress:"0x52f0e24d1c21c8a0cb1e5a5dd6198556bd9e1203"}),Dt=yt({},xt,{mixedRouteQuoterV1Address:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),It=yt({},xt,{v4PoolManagerAddress:"0x9a13f98cb987694c9f086b1f5eb990eea8264ec3",v4PositionManagerAddress:"0x3c3ea4b57a46241e54610e5f022e5c45859a1017",v4StateView:"0xc18a3169788f4f75a170290584eca6395c75ecdb",v4QuoterAddress:"0x1f3131a13296fb91c90870043742c3cdbff1a8d7"}),Ot=yt({},xt,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0xd88f38f930b7952f2db2432cb002e7abbf3dd869",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x3972c00f7ed4885e145823eb7c655375d275a1c5"}),Nt=yt({},xt,{v4PoolManagerAddress:"0x67366782805870060151383f4bbff9dab53e5cd6",v4PositionManagerAddress:"0x1ec2ebf4f37e7363fdfe3551602425af0b3ceef9",v4StateView:"0x5ea1bd7974c8a611cbab0bdcafcb1d9cc9b3ba5a",v4QuoterAddress:"0xb3d5c3dfc3a7aebff71895a7191796bffc2c81b9"}),Bt={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D"};(vt={})[_t.MAINNET]=Ct,vt[_t.OPTIMISM]=It,vt[_t.ARBITRUM_ONE]=Ot,vt[_t.POLYGON]=Nt,vt[_t.POLYGON_MUMBAI]=Nt,vt[_t.GOERLI]=Dt,vt[_t.CELO]=Bt,vt[_t.CELO_ALFAJORES]=Bt,vt[_t.BNB]={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2",v4PoolManagerAddress:"0x28e2ea090877bf75740558f6bfb36a5ffee9e9df",v4PositionManagerAddress:"0x7a4a5c919ae2541aed11041a1aeee68f1287f95b",v4StateView:"0xd13dd3d6e93f276fafc9db9e6bb47c1180aee0c4",v4QuoterAddress:"0x9f75dd27d6664c475b90e105573e550ff69437b0"},vt[_t.OPTIMISM_GOERLI]={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},vt[_t.OPTIMISM_SEPOLIA]={v3CoreFactoryAddress:"0x8CE191193D15ea94e11d327b4c7ad8bbE520f6aF",multicallAddress:"0x80e4e06841bb76AA9735E0448cB8d003C0EF009a",quoterAddress:"0x0FBEa6cf957d95ee9313490050F6A0DA68039404",v3MigratorAddress:"0xE7EcbAAaA54D007A00dbb6c1d2f150066D69dA07",nonfungiblePositionManagerAddress:"0xdA75cEf1C93078e8b736FCA5D5a30adb97C8957d",tickLensAddress:"0xCb7f54747F58F8944973cea5b8f4ac2209BadDC5",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4"},vt[_t.ARBITRUM_GOERLI]={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},vt[_t.ARBITRUM_SEPOLIA]={v3CoreFactoryAddress:"0x248AB79Bbb9bC29bB72f7Cd42F17e054Fc40188e",multicallAddress:"0x2B718b475e385eD29F56775a66aAB1F5cC6B2A0A",quoterAddress:"0x2779a0CC1c3e0E44D2542EC3e79e3864Ae93Ef0B",v3MigratorAddress:"0x398f43ef2c67B941147157DA1c5a868E906E043D",nonfungiblePositionManagerAddress:"0x6b2937Bde17889EDCf8fbD8dE31C3C2a70Bc4d65",tickLensAddress:"0x0fd18587734e5C2dcE2dccDcC7DD1EC89ba557d9",swapRouter02Address:"0x101F443B4d1b059569D643917553c771E1b9663E",v4PoolManagerAddress:"0xFB3e0C6F74eB1a21CC1Da29aeC80D2Dfe6C9a317",v4PositionManagerAddress:"0xAc631556d3d4019C95769033B5E719dD77124BAc",v4StateView:"0x9d467fa9062b6e9b1a46e26007ad82db116c67cb",v4QuoterAddress:"0x7de51022d70a725b508085468052e25e22b5c4c9"},vt[_t.SEPOLIA]={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07",swapRouter02Address:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",mixedRouteQuoterV2Address:"0x4745f77b56a0e2294426e3936dc4fab68d9543cd",v4PoolManagerAddress:"0xE03A1074c86CFeDd5C142C4F04F1a1536e203543",v4PositionManagerAddress:"0x429ba70129df741B2Ca2a85BC3A2a3328e5c09b4",v4StateView:"0xe1dd9c3fa50edb962e442f60dfbc432e24537e4c",v4QuoterAddress:"0x61b3f2011a92d183c7dbadbda940a7555ccf9227"},vt[_t.AVALANCHE]={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE",v4PoolManagerAddress:"0x06380c0e0912312b5150364b9dc4542ba0dbbc85",v4PositionManagerAddress:"0xb74b1f14d2754acfcbbe1a221023a5cf50ab8acd",v4StateView:"0xc3c9e198c735a4b97e3e683f391ccbdd60b69286",v4QuoterAddress:"0xbe40675bb704506a3c2ccfb762dcfd1e979845c2"},vt[_t.BASE]={v3CoreFactoryAddress:"0x33128a8fC17869897dcE68Ed026d694621f6FDfD",multicallAddress:"0x091e99cb1C49331a94dD62755D168E941AbD0693",quoterAddress:"0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a",v3MigratorAddress:"0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7",nonfungiblePositionManagerAddress:"0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1",tickLensAddress:"0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d",swapRouter02Address:"0x2626664c2603336E57B271c5C0b26F421741e481",mixedRouteQuoterV1Address:"0xe544efae946f0008ae9a8d64493efa7886b73776",v4PoolManagerAddress:"0x498581ff718922c3f8e6a244956af099b2652b2b",v4PositionManagerAddress:"0x7c5f5a4bbd8fd63184577525326123b519429bdc",v4StateView:"0xa3c0c9b65bad0b08107aa264b0f3db444b867a71",v4QuoterAddress:"0x0d5e0f971ed27fbff6c2837bf31316121532048d"},vt[_t.BASE_GOERLI]={v3CoreFactoryAddress:"0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2",multicallAddress:"0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439",quoterAddress:"0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9",v3MigratorAddress:"0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE",nonfungiblePositionManagerAddress:"0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30",tickLensAddress:"0x1acB873Ee909D0c98adB18e4474943249F931b92",swapRouter02Address:"0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d"},vt[_t.BASE_SEPOLIA]={v3CoreFactoryAddress:"0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24",multicallAddress:"0xd867e273eAbD6c853fCd0Ca0bFB6a3aE6491d2C1",quoterAddress:"0xC5290058841028F1614F3A6F0F5816cAd0df5E27",v3MigratorAddress:"0xCbf8b7f80800bd4888Fbc7bf1713B80FE4E23E10",nonfungiblePositionManagerAddress:"0x27F971cb582BF9E50F397e4d29a5C7A34f11faA2",tickLensAddress:"0xedf6066a2b290C185783862C7F4776A2C8077AD1",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4",v4PoolManagerAddress:"0x05E73354cFDd6745C338b50BcFDfA3Aa6fA03408",v4PositionManagerAddress:"0x4b2c77d209d3405f41a037ec6c77f7f5b8e2ca80",v4StateView:"0x571291b572ed32ce6751a2cb2486ebee8defb9b4",v4QuoterAddress:"0x4a6513c898fe1b2d0e78d3b0e0a4a151589b1cba"},vt[_t.ZORA]={v3CoreFactoryAddress:"0x7145F8aeef1f6510E92164038E1B6F8cB2c42Cbb",multicallAddress:"0xA51c76bEE6746cB487a7e9312E43e2b8f4A37C15",quoterAddress:"0x11867e1b3348F3ce4FcC170BC5af3d23E07E64Df",v3MigratorAddress:"0x048352d8dCF13686982C799da63fA6426a9D0b60",nonfungiblePositionManagerAddress:"0xbC91e8DfA3fF18De43853372A3d7dfe585137D78",tickLensAddress:"0x209AAda09D74Ad3B8D0E92910Eaf85D2357e3044",swapRouter02Address:"0x7De04c96BE5159c3b5CeffC82aa176dc81281557",v4PoolManagerAddress:"0x0575338e4c17006ae181b47900a84404247ca30f",v4PositionManagerAddress:"0xf66c7b99e2040f0d9b326b3b7c152e9663543d63",v4StateView:"0x385785af07d63b50d0a0ea57c4ff89d06adf7328",v4QuoterAddress:"0x5edaccc0660e0a2c44b06e07ce8b915e625dc2c6"},vt[_t.ZORA_SEPOLIA]={v3CoreFactoryAddress:"0x4324A677D74764f46f33ED447964252441aA8Db6",multicallAddress:"0xA1E7e3A69671C4494EC59Dbd442de930a93F911A",quoterAddress:"0xC195976fEF0985886E37036E2DF62bF371E12Df0",v3MigratorAddress:"0x65ef259b31bf1d977c37e9434658694267674897",nonfungiblePositionManagerAddress:"0xB8458EaAe43292e3c1F7994EFd016bd653d23c20",tickLensAddress:"0x23C0F71877a1Fc4e20A78018f9831365c85f3064"},vt[_t.ROOTSTOCK]={v3CoreFactoryAddress:"0xaF37EC98A00FD63689CF3060BF3B6784E00caD82",multicallAddress:"0x996a9858cDfa45Ad68E47c9A30a7201E29c6a386",quoterAddress:"0xb51727c996C68E60F598A923a5006853cd2fEB31",v3MigratorAddress:"0x16678977CA4ec3DAD5efc7b15780295FE5f56162",nonfungiblePositionManagerAddress:"0x9d9386c042F194B460Ec424a1e57ACDE25f5C4b1",tickLensAddress:"0x55B9dF5bF68ADe972191a91980459f48ecA16afC",swapRouter02Address:"0x0B14ff67f0014046b4b99057Aec4509640b3947A"},vt[_t.BLAST]={v3CoreFactoryAddress:"0x792edAdE80af5fC680d96a2eD80A44247D2Cf6Fd",multicallAddress:"0xdC7f370de7631cE9e2c2e1DCDA6B3B5744Cf4705",quoterAddress:"0x6Cdcd65e03c1CEc3730AeeCd45bc140D57A25C77",v3MigratorAddress:"0x15CA7043CD84C5D21Ae76Ba0A1A967d42c40ecE0",nonfungiblePositionManagerAddress:"0xB218e4f7cF0533d4696fDfC419A0023D33345F28",tickLensAddress:"0x2E95185bCdD928a3e984B7e2D6560Ab1b17d7274",swapRouter02Address:"0x549FEB8c9bd4c12Ad2AB27022dA12492aC452B66",v4PoolManagerAddress:"0x1631559198a9e474033433b2958dabc135ab6446",v4PositionManagerAddress:"0x4ad2f4cca2682cbb5b950d660dd458a1d3f1baad",v4StateView:"0x12a88ae16f46dce4e8b15368008ab3380885df30",v4QuoterAddress:"0x6f71cdcb0d119ff72c6eb501abceb576fbf62bcf"},vt[_t.ZKSYNC]={v3CoreFactoryAddress:"0x8FdA5a7a8dCA67BBcDd10F02Fa0649A937215422",multicallAddress:"0x0c68a7C72f074d1c45C16d41fa74eEbC6D16a65C",quoterAddress:"0x8Cb537fc92E26d8EBBb760E632c95484b6Ea3e28",v3MigratorAddress:"0x611841b24E43C4ACfd290B427a3D6cf1A59dac8E",nonfungiblePositionManagerAddress:"0x0616e5762c1E7Dc3723c50663dF10a162D690a86",tickLensAddress:"0xe10FF11b809f8EE07b056B452c3B2caa7FE24f89",swapRouter02Address:"0x99c56385daBCE3E81d8499d0b8d0257aBC07E8A3"},vt[_t.WORLDCHAIN]={v3CoreFactoryAddress:"0x7a5028BDa40e7B173C278C5342087826455ea25a",multicallAddress:"0x0a22c04215c97E3F532F4eF30e0aD9458792dAB9",quoterAddress:"0x10158D43e6cc414deE1Bd1eB0EfC6a5cBCfF244c",v3MigratorAddress:"0x9EBDdCBa71C9027E1eB45135672a30bcFEec9de3",nonfungiblePositionManagerAddress:"0xec12a9F9a09f50550686363766Cc153D03c27b5e",tickLensAddress:"0xE61df0CaC9d85876aCE5E3037005D80943570623",swapRouter02Address:"0x091AD9e2e6e5eD44c1c66dB50e49A601F9f36cF6",v4PoolManagerAddress:"0xb1860d529182ac3bc1f51fa2abd56662b7d13f33",v4PositionManagerAddress:"0xc585e0f504613b5fbf874f21af14c65260fb41fa",v4StateView:"0x51d394718bc09297262e368c1a481217fdeb71eb",v4QuoterAddress:"0x55d235b3ff2daf7c3ede0defc9521f1d6fe6c5c0"},vt[_t.UNICHAIN_SEPOLIA]={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x9D0F15f2cf58655fDDcD1EE6129C547fDaeD01b1",quoterAddress:"0x6Dd37329A1A225a6Fca658265D460423DCafBF89",v3MigratorAddress:"0xb5FA244C9d6D04B2FBac84418b3c4910ED1Ae5f2",nonfungiblePositionManagerAddress:"0xB7F724d6dDDFd008eFf5cc2834edDE5F9eF0d075",tickLensAddress:"0x5f739c790a48E97eec0efb81bab5D152c0A0ecA0",swapRouter02Address:"0xd1AAE39293221B77B0C71fBD6dCb7Ea29Bb5B166",v4PoolManagerAddress:"0x00b036b58a818b1bc34d502d3fe730db729e62ac",v4PositionManagerAddress:"0xf969aee60879c54baaed9f3ed26147db216fd664",v4StateView:"0xc199f1072a74d4e905aba1a84d9a45e2546b6222",v4QuoterAddress:"0x56dcd40a3f2d466f48e7f48bdbe5cc9b92ae4472"},vt[_t.UNICHAIN]={v3CoreFactoryAddress:"0x1f98400000000000000000000000000000000003",multicallAddress:"0xb7610f9b733e7d45184be3a1bc966960ccc54f0b",quoterAddress:"0x565ac8c7863d9bb16d07e809ff49fe5cd467634c",v3MigratorAddress:"0xb9d0c246f306b1aaf02ae6ba112d5ef25e5b60dc",nonfungiblePositionManagerAddress:"0x943e6e07a7e8e791dafc44083e54041d743c46e9",tickLensAddress:"0xd5d76fa166ab8d8ad4c9f61aaa81457b66cbe443",swapRouter02Address:"0x73855d06de49d0fe4a9c42636ba96c62da12ff9c",v4PoolManagerAddress:"0x1f98400000000000000000000000000000000004",v4PositionManagerAddress:"0x4529a01c7a0410167c5740c487a8de60232617bf",v4StateView:"0x86e8631a016f9068c3f085faf484ee3f5fdee8f2",v4QuoterAddress:"0x333e3c607b141b18ff6de9f258db6e77fe7491e0"},vt[_t.MONAD_TESTNET]={v3CoreFactoryAddress:"0x961235a9020b05c44df1026d956d1f4d78014276",multicallAddress:"0xa707ceb989cc3728551ed0e6e44b718dd114cf44",quoterAddress:"0x1ba215c17565de7b0cb7ecab971bcf540c24a862",v3MigratorAddress:"0x0a78348b71f8ae8caff2f8f9d4d74a2f36516661",nonfungiblePositionManagerAddress:"0x3dcc735c74f10fe2b9db2bb55c40fbbbf24490f7",tickLensAddress:"0x337478eb6058455ecb3696184b30dd6a29e3a893",swapRouter02Address:"0x4c4eabd5fb1d1a7234a48692551eaecff8194ca7"},vt[_t.SONEIUM]={v3CoreFactoryAddress:"0x42ae7ec7ff020412639d443e245d936429fbe717",multicallAddress:"0x8ad5ef2f2508288d2de66f04dd883ad5f4ef62b2",quoterAddress:"0x3e6c707d0125226ff60f291b6bd1404634f00aba",v3MigratorAddress:"0xa107580f73bd797bd8b87ff24e98346d99f93ddb",nonfungiblePositionManagerAddress:"0x56c1205b0244332011c1e866f4ea5384eb6bfa2c",tickLensAddress:"0xcd08eefb928c86499e6235ac155906bb7c4dc41a",swapRouter02Address:"0x7e40db01736f88464e5f4e42394f3d5bbb6705b9",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0x1b35d13a2e2528f192637f14b05f0dc0e7deb566",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x3972c00f7ed4885e145823eb7c655375d275a1c5"},{}[_t.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",{}[_t.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",{}[_t.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",{}[_t.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",{}[_t.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",function(e){e[e.EXACT_INPUT=0]="EXACT_INPUT",e[e.EXACT_OUTPUT=1]="EXACT_OUTPUT"}(wt||(wt={})),function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(Mt||(Mt={}));var St,Ft,Rt,Pt=ge(ne);(Et={})[Mt.ROUND_DOWN]=Pt.ROUND_DOWN,Et[Mt.ROUND_HALF_UP]=Pt.ROUND_HALF_UP,Et[Mt.ROUND_UP]=Pt.ROUND_UP,(Tt={})[Mt.ROUND_DOWN]=0,Tt[Mt.ROUND_HALF_UP]=1,Tt[Mt.ROUND_UP]=3,function(e){e[e.LOWEST=100]="LOWEST",e[e.LOW_200=200]="LOW_200",e[e.LOW_300=300]="LOW_300",e[e.LOW_400=400]="LOW_400",e[e.LOW=500]="LOW",e[e.MEDIUM=3e3]="MEDIUM",e[e.HIGH=1e4]="HIGH"}(Ft||(Ft={})),(St={})[Ft.LOWEST]=1,St[Ft.LOW_200]=4,St[Ft.LOW_300]=6,St[Ft.LOW_400]=8,St[Ft.LOW]=10,St[Ft.MEDIUM]=60,St[Ft.HIGH]=200,function(e){e[e.LOCAL=0]="LOCAL",e[e.MAINNET=1]="MAINNET",e[e.WALLET_EXTENSION=2]="WALLET_EXTENSION"}(Rt||(Rt={}));let kt,Lt={env:Rt.MAINNET,rpc:{local:"",mainnet:""},wallet:{address:"",privateKey:""},tokens:{in:pt,amountIn:1,out:ft,poolFee:Ft.MEDIUM}};var Ut;function Gt(){return kt||(kt=Wt()),kt.provider}async function Ht(e){return e.value&&(e.value=t.from(e.value)),async function(e){e.value&&(e.value=t.from(e.value));const n=await kt.sendTransaction(e);let i=null;const r=Gt();if(!r)return{state:Ut.Failed,tx:i};for(;null===i;)try{if(i=await r.getTransactionReceipt(n.hash),null===i)continue}catch(e){console.log("Receipt error:",e);break}return i?(console.log("receipt tx",i.transactionHash),{state:Ut.Sent,tx:i}):{state:Ut.Failed,tx:null}}(e)}function Wt(){let t=new e.providers.JsonRpcProvider(Lt.rpc.mainnet);return Lt.env==Rt.LOCAL&&(t=new e.providers.JsonRpcProvider(Lt.rpc.local)),new e.Wallet(Lt.wallet.privateKey,t)}!function(e){e.Failed="Failed",e.New="New",e.Rejected="Rejected",e.Sending="Sending",e.Sent="Sent"}(Ut||(Ut={}));async function qt(t,n,i){if(i.isNative)return e.utils.formatEther(await t.getBalance(n));const r=new e.Contract(i.address,ht,t);return function(t,n){return e.utils.formatUnits(t,n).slice(0,4)}(await r.balanceOf(n),await r.decimals())}async function zt(t,n){const i=new e.Contract(n,ht,t);return await i.decimals()}async function Vt(t){const n=Gt(),i=Lt.env===Rt.WALLET_EXTENSION?null:kt.address;if(!n||!i)throw new Error("Cannot wrap ETH without a provider and wallet address");const r=new e.Contract(ct,mt,n),s=e.utils.parseEther(t.toString()),a={data:r.interface.encodeFunctionData("deposit"),value:s,from:i,to:ct,maxFeePerGas:1e11,maxPriorityFeePerGas:1e11},{state:o,tx:u}=await Ht(a);o===Ut.Sent&&console.log("Wrap ETH success with amount: ",t)}class jt{function_name;token_in="";token_in_address="";token_in_amount=0;token_out="";token_out_address="";constructor(e,t,n,i,r,s){this.function_name=e,this.token_in=t,this.token_in_address=n,this.token_in_amount=i,this.token_out=r,this.token_out_address=s}static fromJSON(e){const t=JSON.parse(e);return Object.assign(new jt("","","",0,"",""),t)}convert_in_out=async()=>{if("eth"==this.token_in.toLowerCase())this.token_in_address=pt.address,this.token_in="WETH";else{const e=await this.convert_token_address(this.token_in.toLowerCase());this.token_in_address=e||o}if("eth"==this.token_out.toLowerCase())this.token_out_address=o;else{const e=await this.convert_token_address(this.token_out.toLowerCase());this.token_out_address=e||o}};get_token_address_from_info=(e,t)=>{let n=null;return e.symbol&&e.symbol==t&&e.platforms&&e.platforms.ethereum&&(n=e.platforms.ethereum),n};get_price=async e=>0;convert_token_address=async e=>{e=e.toLowerCase();let t=null;const n=await fetch(`${u}coins/`+e);if(n.ok){const i=await n.json();t=this.get_token_address_from_info(i,e)}if(!t){const n=await fetch(`${u}list-coins?include_platform=true&status=active`);if(n.ok){const i=await n.json();for(const n of i)if(t=this.get_token_address_from_info(n,e),t)break}}return t}}class Jt{swap_v3=async(e,t,n)=>{if(""==e)throw new Error("invalid private key");Lt.env=Rt.MAINNET,Lt.rpc.mainnet=p(n),Lt.wallet.privateKey=e;const i=Wt(),r=new lt(parseInt(n,16),t.token_in_address,await zt(i.provider,t.token_in_address),t.token_in,t.token_in);Lt.tokens.in=r,Lt.tokens.amountIn=t.token_in_amount;const s=new lt(parseInt(n,16),t.token_out_address,await zt(i.provider,t.token_out_address),t.token_out,t.token_out);Lt.tokens.out=s;const a=await qt(i.provider,i.address,pt);Number(a)<t.token_in_amount&&await Vt(t.token_in_amount);const o=await qt(i.provider,i.address,Lt.tokens.in);console.log(`Wallet ${i.address}: ${o} ${t.token_in}`),function(e){kt=e}(i);try{return{state:null,tx:null}}catch(e){return{state:Ut.Failed,tx:null,message:"swap_v3 error: "+e.message}}}}const $t=async(e,t,n)=>{console.log(`**** call uniswap with content **** \n\n\n              ${n} \n\n end content ****\n\n\n`);try{const i=new Jt,r=jt.fromJSON(n);switch(r.function_name){case"swap":{await r.convert_in_out(),console.log(`**** call uniswap with req **** \n ${JSON.stringify(r,null,4)}`);const{state:n,tx:s,message:a}=await i.swap_v3(e,r,t);return{state:n,tx:s,message:a}}case"getPrice":{console.log(`**** call get price with req **** \n ${JSON.stringify(r,null,4)}`),r.token_in_address=await r.convert_token_address(r.token_in),console.log("aaaaaa",r.token_in_address);const e=await r.get_price(r.token_in_address);return{state:null,tx:null,message:`token ${r.token_in} ${r.token_in_address}  price ${e}`}}default:return{state:null,tx:null,message:n}}}catch(e){return{state:Ut.Failed,tx:null,message:`call_uniswap error: ${e.message}`}}},Zt=async(e,t,n,i)=>{if(s.includes(e)&&a.includes(e))return console.log(`${e} is not support`),null;const r=new v,o=await r.get_infer_id(i,t,n);console.log(`infer id: ${o}`);let u="";if(s.includes(e))for(;;)try{u=await r.get_assignments_by_inference(i,o,n);break}catch(e){console.log("Can not get result for inference, try again"),await y(30)}else{if(!a.includes(e))return console.log(`${e} is not support`),null;for(;;)try{u=await r.get_inference_by_inference_id(i,o,n);break}catch(e){console.log("Can not get result for inference, try again",e),await y(30)}}return u||console.log("result: None"),u},Yt=async(e,t,n,i,r,s)=>{const a=new w(e);a.set_api_key(s);try{const e=await a.create_infer(t,'\nYou are an intelligent assistant specialized in cryptocurrency trading. When a user requests a transaction, please respond in a specific JSON format.\n\nFor example, if the user says: "Swap 1 ETH to USDT on Uniswap with Ethereum Chain(or Base chain, BNB chain...)" you should respond as follows:\n\n{\n  "function_name": "swap",\n  "token_in": "symbol of Input token",\n  "token_in_address": "contract erc20 address of Input token",\n  "token_in_amount": 1.0,\n  "token_out": "symbol of Output token",\n  "token_out_address": "contract erc20 address of Output token",\n}\n\nPlease no fill any comment in json result. Make sure that the token addresses are accurate and comply with ERC20 standards.\n\nIf a user asks about the price of a token, respond with the following JSON format:\n\n{\n  "function_name": "getPrice",\n  "token_in": "symbol of Input token",\n  "token_in_address": "contract erc20 address of Input token"\n}\n\nIf the user does not want to trade, respond as a trading expert or UniSwap master, providing insights, tips, or strategies related to cryptocurrency trading\n',n);let s=await a.process_output(e);const o=s.match(/(\{.*?\})/s);if(!o)return console.log("No JSON content found."),{state:null,tx:null,message:s};if(s=o[0],console.log(JSON.parse(s)),s){const{state:e,tx:t,message:n}=await $t(i,r,s);return{state:e,tx:t,message:n}}return{state:null,tx:null,message:s}}catch(e){throw e}},Xt=async(e,t,n,i,r)=>{const s=p(t);if(!s)return null;console.log("rpc",s);const a=new A,o=await a.create_inference_agent(e,i,r,s);console.log(`infer tx_hash: ${o}`);const u=await a.get_worker_hub_address(i,s);console.log(`worker_hub_address : ${u}`);const d=await Zt(t,o,s,u);if(d){const{state:t,tx:i}=await $t(e,n,d);return{state:t,tx:i}}return null},Kt=async(e,t)=>{switch(console.log(e,t),e){case"agent-infer":{const{state:e,tx:r}=await Xt(t.private_key||process.env.PRIVATE_KEY,t.chain_id||i,t.chain_id_swap||n||"0x1",t.agent_address||process.env.AGENT_ADDRESS,t.prompt);return null!=e&&console.log(`swap tx ${JSON.stringify(r,null,4)} state ${e}`),{state:e,tx:r,message:""}}case"models-infer":break;case"api-infer":try{const{state:e,tx:i,message:r}=await Yt(t.host||process.env.HOST,t.prompt,t.model||process.env.MODEL,t.private_key||process.env.PRIVATE_KEY,t.chain_id_swap||n||"0x1",t.api_key||process.env.API_KEY);return i&&console.log(`swap tx ${JSON.stringify(i,null,4)} state ${e}`),console.log(`Status: ${e}`),r&&console.log(`Agent: ${r}`),{state:e,tx:i,message:r}}catch(e){throw e}}},Qt=async(e,t)=>{try{const{state:n,tx:i}=await Kt("api-infer",{prompt:e,private_key:t,model:"gpt-4o-mini",api_key:"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\n",host:"https://api.openai.com/v1"});return console.log(`swap tx ${JSON.stringify(i,null,4)} state ${n}`),`Swapped with tx ${i.transactionHash}`}catch(e){return`Swapped err ${e?.message}`}};export{$t as call_uniswap,Xt as create_agent_infer,Yt as create_api_infer,Zt as process_infer,Qt as prompt,Kt as uni_swap_ai};
